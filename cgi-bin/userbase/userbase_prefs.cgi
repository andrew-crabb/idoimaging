############################################################################
#
# userbase_prefs.cgi
# Version: 2.38
# Edit the settings in this file to customize UserBase for your needs.
# And make sure to read the FAQ: http://encodable.com/userbase/faq
#
############################################################################
# $PREF{allow_random_admin_account_creation} = 'yes';

# My additions ahc
$PREF{hide_poweredby}                              = 'yes';
# Default password for accounts created without one.
$PREF{ahc_default_password}                        = 'Pass';
# 'My Programs' page - user home.  Must match target in .htaccess.
$PREF{ahc_user_home}                            = '/user_home';

# Program to add user to MailChimp
# $PREF{mailchimp_add_user_prog}                     = 'idi_add_user.php';
$PREF{mailchimp_util}                              = '/Users/ahc/BIN/php/user_util.php';

$PREF{fixed_username_field_for_CSV_import}         = 'username';
$PREF{fixed_password_field_for_CSV_import}         = 'password';
$PREF{fixed_realname_field_for_CSV_import}         = 'realname';
$PREF{fixed_email_field_for_CSV_import}            = 'email';
$PREF{fixed_groups_field_for_CSV_import}           = 'groups';

############################################################################
# Database settings: to get UserBase running, the one configuration item
# that you absolutely must adjust is the database settings.  The hostname
# may be left blank (which defaults to 'localhost') on many servers, but the
# other three settings -- database name, username, and password -- must be
# specified.
#
# The database user you specify must have these MySQL privileges:
# Select, Insert, Update, Delete, Create.
#
$PREF{database_hostname}				= 'localhost';
$PREF{database_name}					= 'userbase';
$PREF{database_username}				= '_www';
$PREF{database_password}				= 'PETimage';
#
# The following settings usually don't need to be adjusted.  If you're
# using PostgreSQL instead of MySQL, then just make sure you have the
# DBD::Pg Perl module installed, then change the dbi_connection_string
# to "dbi:Pg:dbname=%%dbname%%".  Or if your mysql.sock file is in a
# non-standard location, you can specify that in the connection string:
#
#	dbi:mysql:%%dbname%%;mysql_socket=/var/mysql/mysql.sock
#
$PREF{dbi_connection_string}				= "dbi:mysql:%%dbname%%";
#
# The following list of table names should NOT be changed in most cases:
#
$PREF{user_table}					= 'userbase_users';
$PREF{group_table}					= 'userbase_groups';
$PREF{pwreset_table}					= 'userbase_pwreset';
$PREF{custom_field_list_table}				= 'userbase_custom_fields';
$PREF{field_sections_table}				= 'userbase_field_sections';
$PREF{paypal_ipn_table}					= 'userbase_paypal_ipn';
$PREF{payments_table}					= 'userbase_payments';
$PREF{logins_table}					= 'userbase_logins';
$PREF{failed_logins_table}				= 'userbase_failed_logins';
$PREF{password_activity_table}				= 'userbase_password_activity';
$PREF{userinfo_updates_table}				= 'userbase_userinfo_updates';
$PREF{event_calendar_table}				= 'userbase_event_calendar';



############################################################################
# We'll detect your server's document-root automatically, but on some
# servers you may need to uncomment this and specify it manually.  IIS users
# may need to set it like this:
#
#	$PREF{DOCROOT} = 'c:\inetpub\wwwroot';
#
$PREF{DOCROOT}						= $ENV{DOCUMENT_ROOT};



############################################################################
# If you're running an HTTPS server, and you want UserBase to always
# use secure links, then uncomment $PREF{protoprefix} and change it to
# https://.  But note that this only affects links generated by UserBase
# itself; it doesn't prevent your users from typing http:// (without the "s")
# into their address bar.  For that, you'll need to enable $PREF{force_https}.
# 
#$PREF{protoprefix}					= 'http://';
$PREF{force_https}					= 'no';



############################################################################
# If you've renamed UserBase's top-level "login" folder to something
# else, then adjust this setting to match your new name/location for it.
# But in most cases that folder shouldn't be moved, and this setting
# shouldn't be changed.
#
# ahc
$PREF{app_base_folder}					= '/login';



############################################################################
# This is where UserBase stores any data files it needs to use.  It must
# be world-readable and world-writable, aka "chmod a+rwx" or "chmod 0777".
# On most servers this will be in the DOCROOT, in which case we'll prepend
# your DOCROOT to whatever you set datadir to.  If for some reason you want
# to specify it with an absolute path, or a path that's relative to the
# current directory instead of the DOCROOT, then set the  ...is_in_docroot
# PREF to no.
#
# ahc
# $PREF{datadir}					= 'encdata';
# $PREF{datadir_is_in_docroot}				= 'no';
$PREF{datadir}						= '/Users/ahc/idoimaging/cgi-bin/userbase/encdata';
$PREF{datadir_is_in_docroot}				= 'no';


############################################################################
# Specify the URL to UserBase on your server. The default value is:
#
#	$PREF{login_url}		= $ENV{SCRIPT_NAME};
#
# If you have a short login URL set up on your server (see UserBase
# homepage for instructions), then use that instead:
#
#	$PREF{login_url}		= '/login/';
#
# ahc
# $PREF{login_url}					= $ENV{SCRIPT_NAME};
$PREF{login_url}					= '/index.php';
$PREF{here}						= $PREF{login_url}; # don't change this.



############################################################################
# This is where you install UserBase's images (icons, backgrounds, etc).
# It must be within your website's document root.  It must not end with
# a slash.
#
$PREF{image_path}					= '/login/images';



############################################################################
# If you want to password-protect pages on your site, but your server
# doesn't support PHP, or it supports PHP but has the PHP functions exec()
# and/or include() disabled, then you can protect your pages by putting them
# into the directory specified here.  See the following page for full
# instructions: 
#
#	http://encodable.com/userbase/#password-protect-without-php
#
$PREF{protected_pages_directory}			= '%PREF{DOCROOT}/protected-pages-go-here';



############################################################################
# To password-protect a whole directory without using PHP and without having
# edit any of the files in the directory, use these settings, and see this
# page for instructions:
#
#	http://encodable.com/userbase/#password-protect-directory
#
# You can create multiple protected directories by copying these prefs to new
# ones named with _02, _03, etc.  The _ignore_file_extensions setting allows
# you to use whatever file extensions you want to on your URLs, and UserBase
# will simple ignore the extensions and use the base filename to choose which
# actual file/page from the disk to use.
#
$PREF{protected_directory_01}				= '%PREF{DOCROOT}/protected';
$PREF{protected_directory_01_ignore_file_extensions}	= 'yes';
$PREF{groups_allowed_to_access_protected_directory_01}	= 'admin'; # comma-separated list of groups.



############################################################################
# Email options.  The email addresses specified here must be of the format
# 'foo@bar.com', or 'Your Name <foo@bar.com>', however some servers may have
# trouble with the latter format, preventing the script from sending its
# emails.
#
$PREF{webmaster_email_address}				= 'andy@idoimaging.com'; # recipient for admin approval
$PREF{app_email_address}				= 'userbase@example.com'; # sender.
$PREF{smtp_server}					= 'localhost:25'; # port is usually 25 or 587.
$PREF{smtp_port}					= '25'; # port is usually 25 or 587.
$PREF{path_to_sendmail}					= '/usr/sbin/sendmail';
$PREF{smtp_auth_username}				= '';
$PREF{smtp_auth_password}				= '';



############################################################################
# Specify title and options.  Note: $PREF{page_subtitle_template} should not
# be changed in most cases.
#
# ahc
# $PREF{title}						= 'UserBase';
# $PREF{title}						= 'I Do Imaging';
$PREF{title}						= '';
$PREF{titlebar_title}					= '%PREF{title} - %%subtitle%% - %ENV{HTTP_HOST}';
# ahc
# $PREF{page_title_template}				= qq`<h1 class="pagetitle">%PREF{title}</h1>`;
$PREF{page_title_template}				= '';
$PREF{page_subtitle_template}				= qq`<h2 class="pagesubtitle">%%subtitle%%</h2>`;



############################################################################
# If you want your date/time values to be different than the date on your
# server, you can set an offset here.
#
$PREF{time_offset}					= -0; # in hours; can include negative sign.



############################################################################
# Set options for various permissible actions.
#
# The prefs that start with "groups_" must be lists of groupnames separated
# by spaces and/or commas.  In addition to your actual existing groupnames
# you can use the special groupnames "self", "public", and "member" here.
#
# The reserved groupname "self" indicates that permission should be granted
# if the user trying to perform the action is the same user who will be 
# affected by it -- for example each user should be allowed to modify their 
# own personal info (real name, email address, etc) but not the personal 
# info of other users.  Note that the "self" group does not apply to all
# actions.
#
# The special groupname "public" automatically includes all users, even
# those who do not have an account, i.e. any old internet passer-by.  You
# can change the name of this group, but if you do then you'll have to
# manually create the new group.
#
# The special groupname "member" automatically includes all users who do
# have an account in the system; it does NOT include strangers.  You
# can change the name of this group, but if you do then you'll have to
# manually create the new group.
#
# For each of the groups_allowed_to_action settings here, you can also 
# create a new setting called groups_not_allowed_to_action, which works
# the same way but in reverse: it explicitly disallows the action.
#
# In the settings below, "user" refers to any non-admin account.
#
# NOTE THAT THE DEFAULT SETTINGS ARE PROBABLY CORRECT FOR MOST SITUATIONS.
#
$PREF{groups_allowed_to_view_administration_page}		= 'admin';
#
$PREF{groups_allowed_to_create_user_accounts}			= 'admin'; # but see below for visitor sign-ups.
$PREF{groups_allowed_to_create_admin_accounts}			= 'admin';
$PREF{groups_allowed_to_create_groups}				= 'admin';
#
$PREF{groups_allowed_to_edit_user_info}				= 'admin,self';
$PREF{groups_allowed_to_edit_admin_info}			= 'admin';
$PREF{groups_allowed_to_edit_group_info}			= 'admin';
#
$PREF{groups_allowed_to_delete_user_accounts}			= 'admin';
$PREF{groups_allowed_to_delete_admin_accounts}			= 'admin';
$PREF{groups_allowed_to_delete_groups}				= 'admin';
#
$PREF{groups_allowed_to_import_accounts}			= 'admin';
$PREF{groups_allowed_to_export_accounts}			= 'admin';
$PREF{groups_allowed_to_manage_custom_fields}			= 'admin';
$PREF{groups_allowed_to_manage_field_sections}			= 'admin';
$PREF{groups_allowed_to_change_group_memberships}		= 'admin';
$PREF{groups_allowed_to_manage_account_locks}			= 'admin';
$PREF{groups_allowed_to_force_password_changes}			= 'admin';
$PREF{groups_allowed_to_view_password_activity_log}		= 'admin';
$PREF{groups_allowed_to_edit_password_activity_log}		= 'admin';
$PREF{groups_allowed_to_delete_password_activity_log_records}	= 'admin';
$PREF{groups_allowed_to_view_userinfo_updates}			= 'admin';
$PREF{groups_allowed_to_edit_userinfo_updates}			= 'admin';
$PREF{groups_allowed_to_delete_userinfo_updates_records}	= 'admin';
#
$PREF{groups_allowed_to_view_all_accounts}			= 'admin';
$PREF{groups_allowed_to_view_all_groups}			= 'admin';
$PREF{groups_allowed_to_see_groups_on_user_form}		= 'admin';
$PREF{groups_allowed_to_see_full_grouplist_on_user_form}	= 'admin';
$PREF{groups_allowed_to_view_logins_log}			= 'admin';
$PREF{groups_allowed_to_edit_logins_log}			= 'admin';
$PREF{groups_allowed_to_delete_logins_log_records}		= 'admin';
$PREF{groups_allowed_to_view_failed_logins_log}			= 'admin';
$PREF{groups_allowed_to_edit_failed_logins_log}			= 'admin';
$PREF{groups_allowed_to_delete_failed_logins_log_records}	= 'admin';
#
$PREF{groups_allowed_to_edit_all_mainmenus}			= 'admin';
$PREF{groups_allowed_to_edit_admin_mainmenu}			= 'admin';
$PREF{groups_allowed_to_edit_member_mainmenu}			= 'admin';
#
$PREF{groups_allowed_to_view_event_calendar}			= 'member';
$PREF{groups_allowed_to_edit_event_calendar}			= 'member';
$PREF{groups_allowed_to_view_all_user_event_calendars}		= 'admin';
$PREF{groups_allowed_to_edit_all_user_event_calendars}		= 'admin';
#
$PREF{groups_allowed_to_view_member_directory}			= 'admin';
$PREF{groups_allowed_to_view_profile_pages}			= 'admin,self';
$PREF{groups_allowed_to_change_profile_image}			= 'member';



############################################################################
# You can also specify who is allowed to edit which user info fields on a
# per-field basis.  A pref for each of the built-in fields is listed here by
# default, and you can add new ones for any custom fields that you create.
# Of course this does not override any stronger protections that also apply;
# for example setting one of these prefs to 'member' means only that members
# can edit *their own* info, not other users' info.  Also note that
# usernames in particular are never editable by anyone by default, because
# of the $PREF{usernames_are_immutable_once_created} setting, which you
# should not disable.
#
$PREF{groups_allowed_to_edit_username_field}			= ''; # never editable by default.
$PREF{groups_allowed_to_edit_realname_field}			= 'member';
$PREF{groups_allowed_to_edit_password_field}			= 'member';
$PREF{groups_allowed_to_edit_email_field}			= 'member';



############################################################################
# Choose whether visitors can sign up for their own accounts.  If so, you
# can also require email verification for new signups, and/or administrator
# approval for them.  Admin approval requires the $PREF{webmaster_email_address}
# setting (above) to be a valid email address of yours.
#
# If you don't want to let visitors sign up for their own accounts, you (as
# the administrator) can always create new accounts manually, through the
# "Manage Users" page, and then distribute the logins to your users yourself.
#
$PREF{visitors_can_sign_up_for_their_own_accounts}	= 'yes';
$PREF{require_email_verification_for_new_signups}	= 'yes';
$PREF{verification_email_format}			= 'text'; # 'html' or 'text'
$PREF{verification_email_subject}			= qq`Verify your new account on $ENV{HTTP_HOST}`;
$PREF{verification_email_template}			= qq`Hello,\n\nThanks for creating an account at $ENV{HTTP_HOST}.\n\nTo verify your email address, visit the following page:\n\n%%link%%\n\nThanks,\nThe Webmaster\n`;
$PREF{email_verified_pending_template}			= qq`<p>Thanks for verifying your email address.&nbsp; This site requires administrator approval for <br />new accounts, so your account will be activated if and when the administrator approves it.</p>\n`;
$PREF{email_verified_active_template}			= qq`<p>Thanks for verifying your email address.&nbsp; Your account is now active.</p><p>You can <a href="%%login_url%%">log in here.</a></p>\n`;
#
$PREF{user_must_agree_to_terms_on_signup}		= 'no';
$PREF{terms_unchecked_error_message}			= "You must check the Terms of Use checkbox to indicate your acceptance of the terms.";
#
$PREF{require_admin_approval_for_new_signups}		= 'no';
$PREF{admin_approval_email_format}			= 'html'; # 'html' or 'text'
$PREF{admin_approval_email_subject}			= qq`New account '%%username%%' requires approval on $ENV{HTTP_HOST}`;
$PREF{admin_approval_email_template}			= qq`Hello,\n\nA new account named '%%username%%' has been created on $ENV{HTTP_HOST},\nand it requires your approval.\n\nVisit the following address to approve or delete this new account:\n\n%%approval_url%%\n\nSigned,\nYour UserBase Installation\n`;
$PREF{account_activated_email_subject}			= qq`Account activated on $ENV{HTTP_HOST}`;
$PREF{account_activated_email_template}			= qq`Hello,\n\nYour new account with username '%%username%%' has been approved and activated on $ENV{HTTP_HOST}.\n\nThanks,\nThe Webmaster\n`;
#
$PREF{notify_admin_of_new_signups}			= 'yes';
$PREF{admin_notification_email_format}			= 'html'; # 'html' or 'text'
$PREF{admin_notification_email_subject}			= qq`New account '%%username%%' created on $ENV{HTTP_HOST}`;
$PREF{admin_notification_email_template}		= qq`Hello,\n\nA new account has been created on $ENV{HTTP_HOST}.\nHere are the details:\n\n\n%%user_info_fields%%\nSigned,\nYour UserBase Installation\n`;
$PREF{admin_notification_email_field_template}		= qq`%%fieldname%%: %%fieldvalue%%\n\n`;
#
$PREF{send_welcome_email_when_admin_creates_an_account} = 'no';
$PREF{welcome_email_format}				= ''; # 'html' or 'text'
$PREF{welcome_email_subject}				= qq`Welcome to $ENV{HTTP_HOST}!`;
$PREF{welcome_email_template}				= qq`Hello,\n\nAn account has been created for you on $ENV{HTTP_HOST}.\n\nTo login to your account, use the following link, username, and password:\n\n%PREF{protoprefix}$ENV{HTTP_HOST}$PREF{login_url}\nUsername: %%username%%\nPassword: %%password%%\n\nThanks,\nThe Webmaster\n`;
#
$PREF{send_notification_email_to_admin_when_users_login}= 'no';
$PREF{login_notification_email_recipients}		= '%PREF{webmaster_email_address}'; # one or more addresses, comma-separated.
$PREF{login_notification_email_format}			= ''; # 'html' or 'text'
$PREF{login_notification_email_subject}			= qq`A user has logged in on $ENV{HTTP_HOST}`;
$PREF{login_notification_email_template}		= qq`Hello,\n\nA login has just occurred on $ENV{HTTP_HOST}.\n\nThe user who logged in is:\n\n\t%%username%% (%%realname%%)\n\nVisit the following page to view this user's information:\n\n\t%%userinfo_url%%\n\nSigned,\nYour UserBase Installation\n%PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}\n`;
#
$PREF{password_reset_email_footer}			= qq`\n\n--\nThis message sent by UserBase at:\n%PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}\n`;
#
$PREF{group_membership_update_emailalert_enabled}	= 'no';
$PREF{group_membership_update_emailalert_recipients}	= 'managers'; # one or more addresses, comma-separated, and/or 'managers'.
$PREF{group_membership_update_emailalert_format}	= 'text'; # 'html' or 'text'
$PREF{group_membership_update_emailalert_added_text}	= qq`added to`;
$PREF{group_membership_update_emailalert_removed_text}	= qq`removed from`;
$PREF{group_membership_update_emailalert_subject}	= qq`User %%username%% has been %%added_to_or_removed_from%% group %%group%%`;
$PREF{group_membership_update_emailalert_body}		= qq`Hello,\n\nA group membership update has just occurred on $ENV{HTTP_HOST}:\n\nUser %%username%% (%%realname%%) has been %%added_to_or_removed_from%% group %%group%%.\n\nVisit the following page to view this user's information:\n\n\t%%userinfo_url%%\n\nSigned,\nYour UserBase Installation\n%PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}\n`;



############################################################################
# When someone visits your website and signs up for a new account, by
# default they aren't added to any groups, other than the special built-in
# groups "public" which everyone is a member of, and "members" which all
# users with accounts are members of.  If you've created other groups and
# you want new signups to automatically be added to them, you can specify
# those groups here, separated by commas.
#
$PREF{automatically_add_new_signups_to_these_groups}	= '';



############################################################################
# You can choose to offer paid accounts, which your visitors can sign up for
# and pay for via PayPal.  Note that a person does NOT need a PayPal account
# in order to make payments through PayPal; they just need a credit card or
# a bank account.
# 
# You can create as many types of paid accounts as you'd like.  Or if you
# want ALL accounts to require payment, then just create one type, and then
# set $PREF{all_accounts_are_paid_accounts_with_this_type} to that type's
# number.
#
# You can set the groupnames, descriptions, and costs to whatever you'd like,
# but you should NOT change the groupnames once there are members signed up
# in that level, or else you'll need to manually add those members to the
# new group via the Manage Users page.  Changes to the group descriptions
# here have no effect once that group has been created; instead, use the
# Manage Groups page to adjust the descriptions.
#
# The costs for these paid accounts are one-time costs.
#
$PREF{enable_paid_accounts}				= 'no';
$PREF{email_address_for_paypal_payments}		= '%PREF{webmaster_email_address}';
$PREF{all_accounts_are_paid_accounts_with_this_type}	= ''; # '01', or '02', etc.
$PREF{payment_notification_email_recipients}		= '%PREF{webmaster_email_address}'; # one or more comma-separated addresses.
#
$PREF{paid_account_type_01_groupname}			= 'Silver';
$PREF{paid_account_type_01_groupdesc}			= 'Silver members enjoy the following benefits: foo, bar, baz...';
$PREF{paid_account_type_01_cost}			= '19.99';
$PREF{paid_account_type_01_paypal_item_name}		= 'Silver Member Account';
$PREF{paid_account_type_01_paypal_item_number}		= 'MBRACT101';
#
$PREF{paid_account_type_02_groupname}			= 'Gold';
$PREF{paid_account_type_02_groupdesc}			= 'Gold members enjoy the following benefits: bim, bap, bop...';
$PREF{paid_account_type_02_cost}			= '49.99';
$PREF{paid_account_type_02_paypal_item_name}		= 'Gold Member Account';
$PREF{paid_account_type_02_paypal_item_number}		= 'MBRACT102';
#
$PREF{paid_account_type_03_groupname}			= 'Platinum';
$PREF{paid_account_type_03_groupdesc}			= 'Platinum members enjoy the following benefits: power, fame...';
$PREF{paid_account_type_03_cost}			= '99.99';
$PREF{paid_account_type_03_paypal_item_name}		= 'Platinum Member Account';
$PREF{paid_account_type_03_paypal_item_number}		= 'MBRACT103';



############################################################################
# The confusingly-named groups_that_can_manage_subgroup_users option is for
# the situation where you want some non-admin users to be able to create and
# delete user accounts, but only if those accounts are members of a special
# group.
#
# To explain how this works, we'll refer to the non-admin users with the
# limited create/delete privileges as "subadmins".  So you would create a
# group called "subadmins" and then set this option like this:
#
#	$PREF{groups_that_can_manage_subgroup_users} = 'subadmins';
#
# Note that it doesn't *have* to be called "subadmins" and you can actually
# put multiple groups in there, separated by commas.  You just have to be
# sure to actually create the group via the UserBase Manage Groups page.
#
# Now let's say you have a user named Tom who you'd like to be a subadmin.
# You would of course simply add him to the subadmins group via the UserBase
# Manage Users page.
#
# That allows Tom to create user accounts, but the accounts he creates will
# always automatically get put into a special group named Tom_group.  And
# by the same token, Tom can delete user accounts, but only accounts which
# belong to the Tom_group group.
#
#	Note: do NOT add "subadmins" to the groups_allowed_to_create_new_accounts
#	setting; that would bypass this whole subadmin/subgroup feature and give
#	the group full create/delete account privileges.
#
# Any subadmins (like Tom in the example) cannot create admin accounts, and
# therefore cannot check the "admin" box under "Group Memberships" while
# editing accounts.
#
# You can specify a suffix other than "_group" (as in, Tom_group), but you
# probably shouldn't do that if you already have a bunch of subadmins and
# they already have a bunch of users, because then you'll have to go into
# the Manage Users page and manually update a bunch of users and groups.
#
# The $PREF{subgroup_owned_users_get_group_memberships_from_their_creator}
# causes any users created by Tom to automatically be added to any groups
# that Tom himself belongs to (except for the subadmins group itself).
#
$PREF{groups_that_can_manage_subgroup_users}		= '';
$PREF{subgroup_groupname_suffix}			= '_group';
$PREF{subgroup_owned_users_get_group_memberships_from_their_creator} = 'no';



############################################################################
# Set options for usernames, groupnames, etc.
#
$PREF{allow_spaces_in_usernames}			= 'no';
$PREF{allow_atsigns_in_usernames}			= 'yes';
$PREF{allow_dots_in_usernames}				= 'yes';
$PREF{allow_dashes_in_usernames}			= 'yes';
# ahc
# $PREF{usernames_must_be_email_addresses}		= 'no';
$PREF{usernames_must_be_email_addresses}		= 'yes';
#
$PREF{allow_spaces_in_groupnames}			= 'yes';
$PREF{allow_atsigns_in_groupnames}			= 'yes';
$PREF{allow_dots_in_groupnames}				= 'yes';
$PREF{allow_dashes_in_groupnames}			= 'yes';
#
# ahc
# $PREF{allow_underscores_in_realnames}			= 'no';
$PREF{allow_underscores_in_realnames}			= 'yes';



############################################################################
# Set min/max lengths for strings.
#
$PREF{max_groupname_length}				= 50;
$PREF{max_username_length}				= 50;
$PREF{max_realname_length}				= 50;
$PREF{max_emailaddr_length}				= 90;
$PREF{max_password_length}				= 50;
$PREF{max_hashedpw_length}				= 50;
$PREF{max_group_description_length}			= 2000;
$PREF{min_password_length}				= 4;



############################################################################
# User info options.
# 
# ahc
# $PREF{use_builtin_realname_field}			= 'yes';
# $PREF{use_builtin_email_field}			= 'yes';
# $PREF{email_field_required}				= 'yes';
$PREF{use_builtin_email_field}			        = 'no';
$PREF{email_field_required}				= 'no';
$PREF{use_builtin_realname_field}			= 'no';
$PREF{default_bgcolor_for_required_fields}		= '#dddddd';
$PREF{default_textcolor_for_required_fields}		= '#000';
$PREF{bgcolor_for_unfilled_required_fields}		= '#ffdd00';
$PREF{textcolor_for_unfilled_required_fields}		= '#000';
$PREF{log_all_userinfo_updates}				= 'no';
$PREF{send_email_notification_upon_userinfo_updates}	= 'no';
$PREF{userinfo_updates_notification___sender}		= '%PREF{app_email_address}'; # one address.
$PREF{userinfo_updates_notification___recipient}	= '%PREF{webmaster_email_address}'; # one or more addresses, comma-separated.
$PREF{userinfo_updates_notification___subject}		= qq`User info changed on $ENV{HTTP_HOST}`;
$PREF{userinfo_updates_notification___format}		= qq`text`;
$PREF{userinfo_updates_notification___body}		= qq`User info changed:

User %%changer_username%% has updated the account information for user %%changee_username%%:

%%changelist%%

--
Sent by UserBase at: %PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}
`;



############################################################################
# Profile image options.
#
# ahc
# $PREF{enable_profile_images}				= 'yes';
$PREF{enable_profile_images}				= 'no';
$PREF{profile_image_sizes_to_create}			= '80,500';
$PREF{profile_image_supported_extensions}		= 'jpg|jpeg|png'; # separate extensions with a "|" character.

$PREF{image_resizing_timeout}				= 8; # in seconds.
$PREF{items_per_page_on_item_image_viewer}		= 10;

$PREF{try_to_use_convert_for_resizing}			= 'no';
$PREF{convert_command}					= 'convert'; # can optionally include path.
$PREF{convert_resize_template}				= qq`%PREF{convert_command} -filter lanczos -size %%size%% -resize %%size%% -quality 95 "%%infile%%" "%%outfile%%"`;

$PREF{try_to_use_identify_for_dimensions}		= 'no';
$PREF{identify_command}					= 'identify'; # can optionally include path.

$PREF{try_to_use_imagemagick_for_resizing}		= 'yes';
$PREF{try_to_use_imagemagick_for_dimensions}		= 'yes';

$PREF{try_to_use_gd_for_resizing}			= 'yes';
$PREF{try_to_use_gd_for_dimensions}			= 'yes';




############################################################################
# You can choose to prevent a user from being logged in from 2 different
# locations (browsers) at the same time.  If you enable this, you should
# also take steps to prevent a user from locking himself out by accidentally
# staying logged in at another location; this means you must either set
# in_illegal_multilogon_dispute_which_user_gets_kicked to 'old', or else set
# the idle timeout.
#
# The idle timeout that automatically expires the user's login session (i.e.
# automatically logs him out) after a certain number of idle seconds.  Set
# the timeout to zero to disable it.
#
# The "Remember Me" checkbox is approximately an inverse of the idle
# timeout: instead of automatically logging the user out after a period of
# inactivity, we automatically remember the user for X number of days, even
# if they close their browser, reboot their computer, etc.
#
$PREF{prevent_multiple_simultaneous_logons_per_username}= 'no';
$PREF{in_illegal_multilogon_dispute_which_user_gets_kicked} = 'old'; # old or new.
$PREF{idle_timeout}					= 60 * 0; # in seconds.
$PREF{enable_rememberme_checkbox}			= 'yes';
$PREF{num_days_rememberme_cookie_lasts}			= '30';



############################################################################
# Various security options.
#
# ahc
$PREF{num_seconds_to_sleep_on_failed_login}		= 1;
$PREF{lock_account_after_N_failed_logins}		= 10; # null to disable.
$PREF{failed_logins_within_N_secs_count_towards_lock}	= 600; # null to disable (then all failures count).
$PREF{lock_expires_automatically}			= 'yes';
$PREF{enable_ip_address_restriction}			= 'yes';
$PREF{force_ip_address_restriction}			= 'yes';
$PREF{disable_ip_restriction_for_AOL_users}		= 'yes';
$PREF{enable_password_reset}				= 'yes';
$PREF{pwreset_should_lie_about_nonexistent_accounts}	= 'yes'; # For security purposes, don't print "username not found"; just act like it was found.
$PREF{lie_about_invalid_accts_when_resending_verification_emails} = 'yes'; # For security purposes, don't display errors that could give away which IDs/usernames exist.
$PREF{prevent_pw_reuse_for_this_many_pw_changes}	= 0;
$PREF{passwords_must_contain_a_lowercase_letter}	= 'no';
$PREF{passwords_must_contain_an_uppercase_letter}	= 'no';
$PREF{passwords_must_contain_a_number}			= 'no';
$PREF{passwords_must_contain_a_nonalphanumeric_char}	= 'no';
$PREF{list_of_sql_safe_characters}			= qq`ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789 !#%^&*()_=+ ~ []{}| ;:'" ,.<>/? \`\@\$\r\n\t\\-`; # dash, if present, must be last.



############################################################################
# Case-insensitivity is a bad idea.  It makes your system less secure.
# Don't do it.
#
$PREF{make_usernames_case_insensitive}			= 'no';
$PREF{make_passwords_case_insensitive}			= 'no';



############################################################################
# You can use a blacklist or a whitelist to prevent users from accessing the
# entire app (with the forced_* settings), or just certain features of the
# app (with the grouped_* settings).  A forced_blacklist means "block this
# user" and a forced_whitelist means "block EVERY user except this one", so
# if you're going to use a forced_* setting then it should probably be
# forced_blacklist in most cases.  If you specify both forced_blacklist and
# forced_whitelist settings, then only the whitelist will be used, since
# it's the more restrictive of the two.  The rules for the grouped_* settings
# are slightly different; see the note at the bottom of this section.
#
# These values are regular expressions, which means that some characters
# have special meanings (like dots) so they must be "escaped" using a back-
# slash, and that partial matching will be done unless you use "^" and "$"
# to mark the start and end of the value.  For example, if you want to match
# only the exact IP address 12.34.56.78, you would use the following:
#
#	$PREF{forced_blacklist_ip_addresses}{'01'} = '^12\.34\.56\.78$';
#
# Or if you want to match any IP that starts with 12.34., you'd use this:
#
#	$PREF{forced_blacklist_ip_addresses}{'01'} = '^12\.34\.';
#
# Or to match any IP that contains .34.56., you'd use this:
#
#	$PREF{forced_blacklist_ip_addresses}{'01'} = '\.34\.56\.';
#
# Note that the values here must be in single-quotes, not double-quotes.
#
# You can add as many rules as you want; just increment the number in '01',
# '02', etc.
#
# The forced_blacklist_* and forced_whitelist_* settings here are for the whole
# app: at the start of execution, we'll check these lists and block any user in
# the blacklist, and pass any user in the whitelist.  This does not deal with any
# specific features or functions; it's a whole-app pass-or-fail checkpoint.  In
# contrast, the grouped_blacklist_* and grouped_whitelist_* settings just add any
# matching user to the built-in encblacklisted/encwhitelisted groups, which you
# can then use within any groups_allowed_to_* setting to block or allow access
# to specific features of the app.
#
# For example, if you have the app installed on a local server whose IP address
# is 10.10.10.10, and you want to require that users be members if they're
# coming from the outside world, but waive that requirement if they're coming
# from the local network, then you could set the relevant groups_allowed_to_*
# setting(s) to 'member,encwhitelisted' and then create a grouped_whitelist 
# setting like this:
#
#	$PREF{grouped_whitelist_ip_addresses}{'01'} = '^10\.10\.10\.';
#
# Then access would be limited to members and people in the 10.10.10.* subnet.
#
$PREF{forced_blacklist_ip_addresses}{'01'}		= '';
$PREF{forced_blacklist_ip_addresses}{'02'}		= '';
$PREF{forced_blacklist_hostnames}{'01'}			= '';
$PREF{forced_blacklist_hostnames}{'02'}			= '';
#
$PREF{forced_whitelist_ip_addresses}{'01'}		= '';
$PREF{forced_whitelist_ip_addresses}{'02'}		= '';
$PREF{forced_whitelist_hostnames}{'01'}			= '';
$PREF{forced_whitelist_hostnames}{'02'}			= '';
#
$TEXT{failed_black_or_white_list}			= qq`Access denied based on blacklisted or whitelisted IP address or hostname.`;
#
$PREF{grouped_blacklist_ip_addresses}{'01'}		= '';
$PREF{grouped_blacklist_ip_addresses}{'02'}		= '';
$PREF{grouped_blacklist_hostnames}{'01'}		= '';
$PREF{grouped_blacklist_hostnames}{'02'}		= '';
#
$PREF{grouped_whitelist_ip_addresses}{'01'}		= '';
$PREF{grouped_whitelist_ip_addresses}{'02'}		= '';
$PREF{grouped_whitelist_hostnames}{'01'}		= '';
$PREF{grouped_whitelist_hostnames}{'02'}		= '';



############################################################################
# Using binary salt can increase security, but not all servers will support
# it.  If you enable this, you'll need to manually change the type of your
# salt column from VARCHAR to VARBINARY, using phpMyAdmin or some other
# interface to MySQL.  For example in the MySQL command-line client you
# would use this command:
#
#	ALTER TABLE `userbase_users` MODIFY `salt` VARBINARY(50) NOT NULL;
#
$PREF{use_binary_salt}					= 'no';



############################################################################
# Configure the force-password-change feature.
#
$PREF{enable_forced_password_change}			= 'yes';
$PREF{admins_can_be_forced_to_change_their_own_pws}	= 'yes';
$PREF{force_pw_chng_after_first_login}			= 'no';
$PREF{force_pw_chng_after_password_reset}		= 'yes';
$PREF{force_pw_chng_after_this_many_hours}		= 24*0; # zero to disable.



############################################################################
# FileChucker options.  Note that FileChucker will automatically create each
# user's userdir when that user first logs in.  You only need to enable the 
# create_filechucker_userdir_on_account_creation setting if you need to have
# each userdir be created when the user's account is created, instead of
# when the user first logs in.
#
$PREF{create_filechucker_userdir_on_account_creation}	= 'no';
$PREF{filechucker_userdir_folder}			= '/upload/files/users';
$PREF{filechucker_userdir_folder_is_in_docroot}		= 'yes';
$PREF{filechucker_userdir_template}			= '%%username%%'; # must match $PREF{userdir_template} from FC prefs.



############################################################################
# If you're embedding UserBase into an existing layout, then you probably
# don't want UB to print out full HTML tags.  So you can disable that here.
# In that case you must also put the following lines into the <head> section 
# of your website:
#
#	<script type="text/javascript" src="/cgi-bin/userbase.cgi?js"></script>
#	<link rel="stylesheet" type="text/css" media="all" href="/cgi-bin/userbase.cgi?css">
#
# Note that the CSS output may have conditional comments at the bottom that
# you'll need to copy directly into the <head> section of your site.
#
# If you are not going to use print_full_html_tags, then ideally you'll be
# calling UserBase from a file like /login/index.shtml that contains
# something pretty similar to this:
#
#	<!--#include virtual="/header.shtml" -->
#	<!--#include virtual="/cgi-bin/userbase.cgi?$QUERY_STRING" -->
#	<!--#include virtual="/footer.shtml" -->
#
# ...where header.shtml and footer.shtml contain your site-wide standard
# HTML code that each page is wrapped in.  Or, if your header/footer are
# in PHP, then your /login/index.php might look like this:
#
#	<? virtual("/header.php"); ?>
#	<? virtual("/cgi-bin/userbase.cgi?" . $_SERVER['QUERY_STRING']); ?>
#	<? virtual("/footer.php"); ?>
#
# However, if you are on a brain-dead server (for example, IIS6+) which
# does not support any decent way to call a CGI script that includes the
# proper server environment variables, and your server does not have PHP
# installed, and you still want to include a standard header/footer with
# UserBase, then you can set encodable_app_template_file.  Set this to
# the full path (probably starting with "%PREF{DOCROOT}/") to an HTML page
# on your site which should be used as the template for UserBase's
# output.  You can create this HTML file in whatever way you normally
# create web pages; the only requirements are that it contain the string
# <!-- %%encodable_app_output%% --> wherever you'd like UserBase's
# output to appear, and that you put the strings <!-- %%css%% --> and 
# <!-- %%js%% --> within the <head> section of the file.  No server-side
# processing (PHP, SSI, etc) will be done on the contents of this file;
# however you can specify a title within it by inserting the string
# %%title%% (for example, as in <title>%%title%%</title>) and we'll
# replace that with your value for the title_for_template_file variable
# (or in some cases, with an internally-set title).
#
# ahc
# $PREF{print_full_html_tags}				= 'yes';
$PREF{print_full_html_tags}				= 'no';
$PREF{encodable_app_template_file}			= '';
$PREF{title_for_template_file}				= '';



############################################################################
# Web servers treat "www.you.com" and "you.com" as two different domains,
# which matters for web applications that use cookies.  So you should make
# your website either always use the www, or always remove it.  You should
# be able to do this in your server configuration, but if not, you can do
# it here.  Whether to use www or not is only a matter of taste, so just 
# pick whichever way you want, and then stick with it.
#
$PREF{add_www_to_hostname}				= 'no';
$PREF{remove_www_from_hostname}				= 'no';



############################################################################
# Directory permissions: these should usually be 0777; on some servers, you
# may be able to get away with using less-permissive settings like 0755 or
# even 0700 instead.
#
# File permissions: these should usually be 0666; on some servers, you
# may be able to get away with using less-permissive settings like 0644 or
# even 0600 instead.
#
$PREF{writable_dir_perms}				= 0777;		# no quotes. default is 0777.
#
$PREF{writable_file_perms}				= 0666;		# no quotes. default is 0666.



############################################################################
# Various templates and markup.
#
# The PREF for loggedout_page_template__with_referer is used when a user
# clicks a "logout" link on some other page; we then display this message
# with a link to return to that other page (the referer).  Otherwise we
# just display the __no_referer message.
# ahc
# $PREF{username_label}					= 'Username';
$PREF{username_label}					= 'Email';
$PREF{name_label}					= 'Real Name';
$PREF{email_label}					= 'Email Address';
$PREF{date_format_for_users_page}			= '%Y%m%d-%H%M';
$PREF{mainmenu_page_template}				= qq`%%menus%%`;
$PREF{mainmenu_template}				= qq`<div class="encmenu">\n<div class="header"><span class="altcolor1">&gt;</span> %%title%%</div>\n<div>%%links%%</div></div>\n`;
$PREF{show_link_to_member_directory_on_member_mainmenu}	= 'yes';
#
$PREF{success_message_template}				= qq`<h2>Success</h2>\n<p>%%message%%</p>\n`;
$PREF{notice_message_template}				= qq`<h2>Notice</h2>\n<p>%%message%%</p>\n`;
$PREF{error_message_template}				= qq`<h2>Error</h2>\n<p>%%message%%</p>\n`;
$PREF{outer_container}					= '<div id="ubbody" %%class%%>';
$PREF{outer_container_end}				= '</div>';
$PREF{forced_logout_link}				= qq`<script type="text/javascript">location.href="%%logout_url%%";</script><p>Logging out; <a href="%%logout_url%%">click here</a> if you see this message for more than a few seconds.</p>\n`;
$PREF{loggedout_page_template__no_referer}		= qq`You are logged out.`;
$PREF{loggedout_page_template__with_referer}		= qq`<p>You are logged out.&nbsp; <a href="%%ref%%">Click here</a> to return to the page you came from.</p>`;
$PREF{login_status_string_template}			= qq`[ %%usertype%% %%username%% logged in%%extra_info%%. ]`;
$PREF{needlogin_message}				= qq`<h1 class="pagetitle">Login Required</h1><p>Login required; <a href="%%login_url%%">click here</a> to continue.</p>`;
$PREF{needprivs_message}				= qq`<h1 class="pagetitle">Access Denied</h1><p>Access denied.&nbsp; %%%if-notloggedin%%%Perhaps you need to <a href="%%login_url%%">login</a> first?%%%end-notloggedin%%%</p>`;



############################################################################
# App output template.  You can add things here, and you can change any text
# within the template, but you probably shouldn't change any of the markup
# (tags) nor variables (like %%linkbar_bottom%%) within the template.
#
$PREF{app_output_template} = qq`

	<div id="ubwrapper" class="%%wide_page_css_wrapper_id%%">

	<div id="%%on_page%%page"> <!-- this is #cartpage, #storepage, #defaultpage, etc. -->

	%%%if-pagetitle%%%	<h1 class="pagetitle">%PREF{title}</h1>		%%%end-pagetitle%%%
	%%%if-pagesubtitle%%%	<h2 class="pagesubtitle">%%subtitle%%</h2>	%%%end-pagesubtitle%%%

	<div id="ub_content"> <!-- don't change this ID. -->


	%%app_output_body%%


	</div>

	<div id="ublinkbar_bottom">
	%%linkbar_bottom%%
	</div>

	<div id="epb">%%powered_by%%</div>

	</div> <!-- end #cartpage, #storepage, #defaultpage, etc. -->

	</div><!-- end id="ubwrapper" -->
`;



############################################################################
# These prefs allow you to create a fully customized main menu page.  Just
# specify the filename (including full path, or path relative to your
# DOCROOT) to the HTML file containing your main menu.  You should not
# include the HTML tags <html>, <head>, nor <body>, nor their close-tags,
# within your file, unless you enable the hide_ prefs here.
#
# Within your page, you must use the following code to tell UserBase which
# groups should see which parts of your page:
#
#	<!-- %%%group-member%%% -->
#	(your members-only code here)
#	<!-- %%%end-group-member%%% -->
#
#	...
#
#	<!-- %%%group-admin%%% -->
#	(your admin-only code here)
#	<!-- %%%end-group-admin%%% -->
#
$PREF{custom_mainmenu_page}				= '';
$PREF{hide_builtin_header_on_custom_mainmenu}		= 'no';
$PREF{hide_builtin_footer_on_custom_mainmenu}		= 'no';



############################################################################
# Specify footer options here.  If you set $PREF{custom_footer_links} to
# anything other than null, it will disable all the built-in footer links.
#
# ahc
# $PREF{home_link_name}					= 'Home'; # null to disable.
$PREF{home_link_name}					= ''; # null to disable.
$PREF{home_link_url}					= '/index.php';
$PREF{signup_link_name}					= 'Create Account';
$PREF{signup_link_url}					= '%PREF{login_url}?action=signup';
$PREF{show_logout_link_in_footer}			= 'yes';
$PREF{show_myaccount_link_in_footer}			= 'yes';
# ahc
# $PREF{myaccount_footer_link_name}			= 'My Account';
$PREF{myaccount_footer_link_name}			= 'Home';
$PREF{custom_footer_links}				= '';
$PREF{show_login_status_in_footer}			= 'yes';



############################################################################
# The Manage Users page contains a table that may be too wide for some
# narrow layouts.  To work around that, you can specify that certain columns
# should be hidden by default.  They can always be manually displayed by
# simply clicking on the appropriate link on the Manage Users page.  The
# column names are ubusername, ubgroups, ubrealname, ubemail, ubcreatedate,
# ubloggedin, ubactions, and also the names of any custom fields that you've
# created.  You can specify one or more here, separated by commas.
#
$PREF{columns_hidden_by_default_on_user_manager}	= 'ubcreatedate,ubloggedin,ublastlogin,ublastactive';
$PREF{default_sort_column_for_user_manager}		= 'ubusername';



############################################################################
# By default, upon successful login, we either:
#
#	a) send the user back to the page they came from, if they accessed
#	   this script by clicking some kind of "Login" link on another
#	   page; or:
#
#	b) display a default UserBase landing page showing the links you
#	   specify (see above), if the user accessed the script directly.
#
# Similarly, upon logout, we either:
#	
#	a) send the user back to the page they came from, if they accessed
#	   this script by clicking a "Logout" link on another page; or:
#
#	b) display the default UserBase login form, if the user accessed
#	   the script directly.
#
# However, you can override this behavior here.  Specify the URL to go to
# for each situation.  Each URL can be a relative link (starting with a 
# single forward-slash), or can start with a fully-qualified domain name,
# i.e. starting with http:// or https://.
#
# You can also specify that when a user visits the script, even if he's not
# in the process of logging in or logging out, we'll still redirect him to
# a different URL.  To enable this, set the "always_redirect" PREFs.
#
# Note that you can include %%username%% as a variable in these URLs, to
# insert the visitor's username, sending each user to a unique URL.  And
# you can create new prefs here of the form on_groupname_login_redirect_to,
# where "groupname" is the name of any group that you've created.
#
# You can also set any of these to "referer", in which case we'll redirect
# the user to the referring page -- the page he came from.  In this case
# you must also set a backup address in case the user visits us directly,
# i.e. no referer is set.
#
# ahc
# $PREF{on_member_login_redirect_to}			= 'referer';
$PREF{on_member_login_redirect_to}			= '';
$PREF{on_member_logout_redirect_to}			= '/index.php?bye';

# ahc
# $PREF{on_admin_login_redirect_to}			= '';
$PREF{on_admin_login_redirect_to}			= '/index.php';
$PREF{on_admin_logout_redirect_to}			= '/index.php';
# ahc
# This one might be important.
$PREF{on_failed_login_redirect_to}			= '';

$PREF{always_redirect_members_to}			= '';
$PREF{always_redirect_admins_to}			= '';

$PREF{redirection_backup_address}			= '/index.php';



############################################################################
# Or, if you want to allow redirection to different pages based on variables
# that you can pass on the URL, use these settings.  For example, if you
# specify this:
#
#	$PREF{loginreturn}{foo} = '/bar.html';
#
# ...then when a logged-out user visits www.example.com/login/?loginreturn=foo
# and then successfully logs in, he'll be redirected to /bar.html.
#
# These are commented-out by default, so to enable them you must uncomment
# them (delete the "#" at the front of the line) first.
#
#$PREF{loginreturn}{foo}				= '/bar.html';
#$PREF{loginreturn}{bim}				= '/baz/';



############################################################################
# You can adjust the order in which the login destination options apply.
# loginreturn is the $PREF{loginreturn} settings; redirect is the various
# on_*_login_redirect_to settings; and referer is the ?whence=/somepage
# URL variable that's created when a logged-out user tries to visit a page
# that's protected by UserBase.
#
# In any situation where more than one of those options are present, the
# first one in this list will take precedence.  So for example, if you want
# your on_*_login_redirect_to settings to only take effect when no referer
# is present, then you'd swap their order within this setting.
#
# This should be left at its default value in most cases.
#
$PREF{login_destination_precedence_list} = 'loginreturn, redirect, referer';



############################################################################
# Event calender settings.
#
$PREF{enable_event_calendar}				= 'no';
$PREF{event_calendar_reminder_email_sender}		= '%PREF{app_email_address}';
$PREF{event_calendar_reminder_email_subject}		= qq`Event reminder: %%eventname%%`;
$PREF{event_calendar_reminder_email_format}		= qq`html`; # text or html.
$PREF{event_calendar_reminder_email_template}		= qq`
<p>Hello,</p>

<p>This is your reminder for the following upcoming event:</p>

<p>Name: %%eventname%%
<br />Date: %%eventdate%%
<br />Details: %%eventdescription%%</p>

<p>Thanks,
<br />The Webmaster</p>

<p><br /></p><hr />
<p>This message sent by UserBase at:</p>
<p><a href="%PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}">%PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}</a></p>
`;




############################################################################
# Settings for various logs/viewers/tables.
#
$PREF{logins_viewer_title}				= 'Logins';
# ahc
# $PREF{logins_viewer_hidden_columns}			= 'id,session_id,ip_address,user_id,timestamp';
$PREF{logins_viewer_hidden_columns}			= 'id,session_id,ip_address,user_id,timestamp,hostname,browser';
$PREF{logins_viewer_max_display_length}			= 50;
$PREF{logins_viewer_itemsperpage}			= 25;
$PREF{num_logins_to_log_per_user}			= 10;
#
$PREF{failed_logins_viewer_title}			= 'Failed Logins';
$PREF{failed_logins_viewer_hidden_columns}		= 'id,password_fingerprint,ip_address,timestamp,hostname,browser';
$PREF{failed_logins_viewer_max_display_length}		= 50;
$PREF{failed_logins_viewer_itemsperpage}		= 25;
$PREF{num_failed_logins_to_log_per_user}		= 100;
#
$PREF{password_activity_viewer_title}			= 'Password Updates';
$PREF{password_activity_viewer_hidden_columns}		= 'id,user_id,ip_address,password_fingerprint,timestamp,user_who_did_update,salt,hostname,browser';
$PREF{password_activity_viewer_max_display_length}	= 50;
$PREF{password_activity_viewer_itemsperpage}		= 25;
$PREF{num_pw_updates_to_log_per_user}			= 10;
#
$PREF{userinfo_updates_viewer_title}			= 'User Info Updates';
$PREF{userinfo_updates_viewer_hidden_columns}		= 'id,changer_id,changee_id,ip_address,timestamp';
#
$PREF{enable_quicksort_by_default}			= 'yes';




############################################################################
# Customizable messages.
#
$PREF{invalid_username_message}				= qq`Username invalid: must contain only letters, numbers, and underscores; and must be less than $PREF{max_username_length} characters.`;
$PREF{invalid_realname_message}				= qq`Realname invalid: must contain only letters, numbers, spaces, dots, dashes, and quotes; must start with a letter; and must be less than $PREF{max_realname_length} characters.`;
$PREF{invalid_password_message}				= qq`Password invalid: must be between $PREF{min_password_length} and $PREF{max_password_length} characters.`;
$PREF{invalid_groupname_message}			= qq`Groupname invalid: must contain only letters, numbers, and underscores; must start with a letter; and must be less than $PREF{max_groupname_length} characters.`;
$PREF{invalid_groupdesc_message}			= qq`Group description invalid: must be less than $PREF{max_group_description_length} characters.`;



############################################################################
# Internationalization and Localization (i18n and l10n).
#
# UserBase text strings:
#
# ahc
# $TEXT{messages}{ebadauth}				= qq`Invalid login; please go back and try again.`;
$TEXT{messages}{ebadauth}				= qq`Invalid login; please try again.<br>Note, for accounts created before March 2012, leave the password field blank.`;
$TEXT{messages}{eacctlck}				= qq`Error: account locked.\n`;
$TEXT{messages}{eacctdis}				= qq`Error: account disabled.\n`;
$TEXT{messages}{eacctpndpmt}				= qq`Error: account still pending due to: payment required.\n`;
$TEXT{messages}{eacctpndvrf}				= qq`Error: account still pending due to: email verification required.&nbsp; You must click the link in the verification email that we sent to you.&nbsp; If you don't see this email in your inbox, you may need to check your spam/junk folder.&nbsp; You can also <a href="%PREF{login_url_qsready}action=resendvrfemail&amp;uid=%%qs_var_uid%%&amp;user=%%qs_var_user%%">click here</a> to send the email again.\n`;
$TEXT{messages}{eacctpndadm}				= qq`Error: account still pending due to: administrator approval required.\n`;
$TEXT{messages}{edenied}				= qq`Access denied.`;
$TEXT{messages}{edupuser}				= qq`Sorry, a user by that name already exists.&nbsp; Please go back and try again.`;
$TEXT{messages}{edupemail}				= qq`Sorry, that email address already exists in the system.&nbsp; Please try again.`;
$TEXT{messages}{emultkicked}				= qq`That username was being used by multiple people/browsers.&nbsp; They have all been forcibly logged out now.&nbsp; You can now try to <a href="%PREF{login_url}">login again</a>, but if your username is still being shared, you'll likely all get kicked out again eventually.&nbsp; The only way to prevent others from using a previously-shared account is for the account owner to <a href="%PREF{login_url}?action=pwreset1">reset the password</a>.`;
$TEXT{messages}{emultlogin}				= qq`You cannot log in, because another person/browser is already logged in with the same username.`;
$TEXT{messages}{einsuff}				= qq`You don't have permission to do that.`;
$TEXT{messages}{eneedlogin}				= qq`You must log in to use this facility.`;
$TEXT{messages}{eneedadmin}				= qq`You must log in as an administrator to use this facility.`;
$TEXT{messages}{epwmismatch}				= qq`Passwords do not match.&nbsp; Go back and try again.`;
$TEXT{messages}{ebadname}				= qq`$PREF{invalid_username_message}`;
$TEXT{messages}{ebadopwuid}				= qq`Old password incorrect or username/ID mismatch. Please go back and try again.`;
$TEXT{messages}{enpwmis}				= qq`New passwords do not match. Please go back and try again.`;
$TEXT{messages}{enpwl}					= qq`New password too short. Please go back and try again.`;
$TEXT{messages}{einvldr}				= qq`$PREF{invalid_realname_message}`;
$TEXT{messages}{einvlde}				= qq`Email address invalid.&nbsp; Must match the normal user\@domain.com pattern and must not contain spaces`;
$TEXT{messages}{einvldp}				= qq`$PREF{invalid_password_message}`;
$TEXT{messages}{einvldh}				= qq`Hashed password invalid; please contact the webmaster.`;
$TEXT{messages}{einvldgn}				= qq`$PREF{invalid_groupname_message}`;
$TEXT{messages}{einvldgd}				= qq`$PREF{invalid_groupdesc_message}`;
$TEXT{messages}{eipmismatch}				= qq`Your IP address does not match this login session.&nbsp; <a href="%PREF{logoutcookie_url}">Click here to log out</a>.`;
$TEXT{messages}{egrprsvd}				= qq`That groupname is reserved; please go back and change it.`;
$TEXT{messages}{egrpexist}				= qq`That groupname already exists; please go back and change it.`;
$TEXT{messages}{epwrst2}				= qq`Error: email address invalid or nonexistent.&nbsp; Please contact us to have your password reset.`;
$TEXT{messages}{epwrst3}				= qq`Error: that account does not exist in our system.`;
$TEXT{messages}{enosignup}				= qq`New account sign-ups are disabled.`;
$TEXT{messages}{sactapp}				= qq`New account '%%username%%' pending administrator approval.`;
$TEXT{messages}{sactvrf}				= qq`New account '%%username%%' pending email verification; please check your email.`;
$TEXT{messages}{snewadd}				= qq`New account '%%username%%' created successfully.`;
$TEXT{messages}{spwrst2}				= qq`Your password-reset email has been sent.&nbsp; Your password has NOT been reset yet; you must follow the instructions in the email to reset your password.`;

$TEXT{Access_denied_}						= qq`Access denied.`;
$TEXT{accountlist_filter_label}					= qq`Filter account list: `;
$TEXT{accountlist_filter_example}				= qq` (for example: groups=admin)`;
$TEXT{Add_Custom_Field}						= qq`Add Custom Field`;
$TEXT{Add_New_Field}						= qq`Add New Field`;
$TEXT{Add_User}							= qq`Add User`;
$TEXT{Are_you_sure_you_want_to_delete_user}			= qq`Are you sure you want to delete user`;

$TEXT{Cant_sign_up_already_have_account_}			= qq`You can't sign up for an account because you already have one.`;
$TEXT{Create_Account}						= qq`Create Account`;
$TEXT{Custom_Fields}						= qq`Custom Fields`;
$TEXT{custom_field_DNE_msg}					= qq`ERROR: <span title="this field does not exist in the user table; Edit to fix" class="def">DNE</span>`;
$TEXT{custom_field_OK_msg}					= qq`OK`;

$TEXT{Edit_Custom_Field}					= qq`Edit Custom Field`;
$TEXT{Edit_mainmenu}						= qq`Edit Mainmenu`;
$TEXT{Edit_My_Account_Information}				= qq`View or Edit My Account Information`;
$TEXT{Edit_This_Menu}						= qq`Edit This Menu`;
$TEXT{empty_password_error}					= qq`You must enter your password.`;
$TEXT{empty_username_error}					= qq`You must enter your username.`;
$TEXT{Error}							= qq`Error`;
$TEXT{Error_input_not_alnum}					= qq`Error: field "%%encfieldname%%" must contain only letters and numbers.`;
$TEXT{Error_input_not_numeric}					= qq`Error: value for field "%%encfieldname%%" must be numeric.`;
$TEXT{Error_input_not_word}					= qq`Error: field "%%encfieldname%%" must contain only letters, numbers, and underscores.`;
$TEXT{Error_input_null}						= qq`Error: field "%%encfieldname%%" cannot be blank.`;
$TEXT{Error_input_too_large}					= qq`Error: value for field "%%encfieldname%%" cannot exceed %%max%%.`;
$TEXT{Error_input_too_long}					= qq`Error: length of input for field "%%encfieldname%%" cannot exceed %%max%% character(s).`;
$TEXT{Error_input_too_short}					= qq`Error: length of input for field "%%encfieldname%%" cannot be less than %%min%% character(s).`;
$TEXT{Error_input_too_small}					= qq`Error: value for field "%%encfieldname%%" cannot be less than %%min%%.`;



$TEXT{Entry_not_bool}						= qq`The value for %%item%% must be either null or else "on"; "%%value%%" is invalid.`;
$TEXT{Entry_not_float}						= qq`The value for %%item%% must be a decimal/fractional number; "%%value%%" is invalid.`;
$TEXT{Entry_not_int}						= qq`The value for %%item%% must be a whole number; "%%value%%" is invalid.`;
$TEXT{Entry_not_ufloat}						= qq`The value for %%item%% must be a non-negative decimal/fractional number; "%%value%%" is invalid.`;
$TEXT{Entry_not_uint}						= qq`The value for %%item%% must be a non-negative whole number; "%%value%%" is invalid.`;
$TEXT{Entry_invalid}						= qq`Invalid entry for %%item%% ("%%value%%").`;

$TEXT{e_fldname}						= qq`Error: Field name must contain only letters, numbers, and underscores, and must be 100 characters or less.`;
$TEXT{e_sqlsafe}						= qq`Error: Field contains non-SQL-safe characters: %%fieldname%%\n<br />SQL-safe characters: %PREF{list_of_sql_safe_characters}`;
$TEXT{smsg_e_bltfld}						= qq`Error: That field name is reserved.`;
$TEXT{smsg_e_fldexist}						= qq`Error: That field name already exists.`;
$TEXT{e_fldlabel}						= qq`Error: Field label must be between 1 and 255 characters.`;
$TEXT{e_datatype}						= qq`Error: Data type must contain only letters, numbers, and underscores, and must be 100 characters or less.`;
$TEXT{e_fieldtype}						= qq`Error: Field type must contain only letters, numbers, and underscores, and must be 100 characters or less.`;
$TEXT{smsg_e_fieldpos}						= qq`Error: Field position must contain only numbers (or can be left blank initially)`;
$TEXT{e_alchrmsg}						= qq`Error: Allowed characters message must be less than 255 characters.`;
$TEXT{smsg_e_listitems}						= qq`Error: For dropdown and radio fields, you must enter a list of items/options for the field.`;
$TEXT{e_mandatory}						= qq`The %%item%% field is mandatory.`;
$TEXT{e_toolong}						= qq`Your entry for "%%item%%" was %%length%% characters long, but the limit is %%limit%% characters.`;



$TEXT{Field_contains_non_SQL_safe_characters}			= qq`Field contains non-SQL-safe characters`;

$TEXT{item}							= qq`item`;
$TEXT{items}							= qq`items`;

$TEXT{Log_Out}							= qq`Log Out`;
$TEXT{Log_Out_All_Locations}					= qq`Log Out All Locations`;

$TEXT{Main_Menu}						= qq`Account Center`;
$TEXT{Manage_Users}						= qq`Manage Users`;
$TEXT{Modify_User}						= qq`Modify User`;
$TEXT{Must_pass_group_id_}					= qq`Must pass group ID on URL.`;

$TEXT{New_Password_}						= qq`New Password:`;
$TEXT{New_Password_again_}					= qq`New Password, again:`;
$TEXT{no_profile_image_msg}					= qq`(No profile image on file.)`;

$TEXT{page}							= qq`page`;
$TEXT{pages}							= qq`pages`;
$TEXT{Password_}						= qq`Password:`;
$TEXT{Password_again_}						= qq`Password, again:`;
$TEXT{password_reuse_error}					= qq`Error: you've used that same password recently; for security purposes, you must choose a different password.`;
$TEXT{Password_too_long__the_maximum_}				= qq`Password too long; the maximum length is`;
$TEXT{Password_too_short__the_minimum_}				= qq`Password too short; the minimum length is`;
$TEXT{password_updater_special_cases}				= qq`(initial account creation or password reset)`;
$TEXT{Passwords_do_not_match_}					= qq`Passwords do not match.`;
$TEXT{Please_login_first_}					= qq`Please login first.`;

$TEXT{Reset_Password}						= qq`Reset Password`;

$TEXT{Save_Changes}						= qq`Save Changes`;
$TEXT{Server_Information}					= qq`Server Information`;
$TEXT{Sign_Up}							= qq`Sign Up`;
$TEXT{SQL_safe_characters}					= qq`SQL-safe characters`;

$TEXT{This_feature_is_disabled_}				= qq`This feature is disabled.`;

$TEXT{userinfo_updates_special_cases}				= qq`(initial account creation or other non-logged action)`;

$TEXT{verification_email_mismatch_error}			= qq`Username does not match user ID.`;
$TEXT{verification_email_notpending_error}			= qq`This account is not pending email verification.`;
$TEXT{verification_email_resent}				= qq`Your verification email has been re-sent.`;
$TEXT{verification_email_resent___full}				= qq`Your verification email has been re-sent, to the following email address: <strong>%%address_obscured%%</strong> (address obscured for security purposes).`;
$TEXT{verification_email_token_error}				= qq`Missing/invalid email verification token.`;
$TEXT{View_Member_Directory}					= qq`View Member Directory`;



############################################################################
# Shared text strings (used by multiple Encodable apps):
#
$TEXT{boolean_false_string}					= 'no';
$TEXT{boolean_true_string}					= 'yes';

$TEXT{database_create_button}					= qq`Add new %%itemname%%`;
$TEXT{database_create_button_2}					= qq`Save new %%itemname%%`;
$TEXT{database_delete_successful}				= qq`Successfully deleted the %%itemname%%.`;
$TEXT{database_deleter_title}					= qq`Or you can delete this %%itemname%%:`;
$TEXT{database_deleter_checkbox}				= qq`Check this box to confirm that you want to delete the %%itemname%%.`;
$TEXT{database_deleter_button}					= qq`Delete this %%itemname%%`;
$TEXT{database_image_picker_available_images_label}		= qq`Available Images:`;
$TEXT{database_image_picker_choose_button}			= qq`Choose`;
$TEXT{database_image_picker_chosen_images_label}		= qq`Chosen Image(s):`;
$TEXT{database_image_picker_no_images_label}			= qq`(none)`;
$TEXT{database_image_picker_remove_button}			= qq`Remove`;
$TEXT{database_save_button}					= qq`Save changes`;
$TEXT{database_search_button}					= qq`Search`;
$TEXT{days}							= qq`days`;
$TEXT{Delete}							= qq`Delete`;

$TEXT{Edit}							= qq`Edit`;
$TEXT{Enter_the_password}					= qq`Enter your password:`;

$TEXT{My_Account}						= qq`My Account`;

$TEXT{no}							= qq`no`;
$TEXT{no_output_from_database}					= qq`<div style="text-align: center; font-style: italic;">(none)</div>`;

$TEXT{password_not_set}						= qq`You must <a href="%%newpw_link%%">set your administrator password</a> first.`;

$TEXT{Record_deleted_successfully_}				= qq`Record deleted successfully.`;

$TEXT{The_password_you_entered_is_incorrect___}			= qq`The password you entered is incorrect.<br />Go back and try again.`;

$TEXT{yes}							= qq`yes`;





############################################################################
# Here you can add/edit CSS (styling) for UserBase.  The $PREF{css} setting
# applies to both the light and dark styles; then the $PREF{css_light} and
# $PREF{css_dark} let you adjust each one individually.
#
$PREF{default_app_style} = 'light';   # light or dark.
$PREF{css} = qq`

#ubbody, #ubbody table { font: 8pt sans-serif; color: #575757; text-align: center; }

/* Fix any stupid overly-broad CSS from site-wide stylesheets: */
#ubbody table td { font: 8pt sans-serif; color: #575757; }
#ubbody p { margin: 10px auto; width: auto; }

#ubbody a { color: #507090; text-decoration: none; }
#ubbody a:hover { color: #a0a0a0; text-decoration: underline; }
#container { margin-left: auto; margin-right: auto; text-align: center; }
#ublinkbar_bottom { width: 100%; text-align: center; }
.ublinkbar_links { margin-top: 15px; padding-top: 15px; }
.ublinkbar_status { text-align: center; margin: 15px auto 0px auto; }
#epb { margin-top: 15px; font-size: 90%; }
.userinfoleft { width: 48%; float: left; text-align: left; }
.userinforight { width: 48%; float: right; text-align: right; }
.label { font-weight: bold !important; }
.label p { max-width: 200px; }
#ubbody input.default		{ margin: 4px; border: 1px solid #777; padding: 3px; }
#ubbody textarea.default	{ margin: 4px; border: 1px solid #777; padding: 3px; }
#ubbody select.default		{ margin: 4px; border: 1px solid #777; padding: 1px; }
#ubbody input.text { width: 120px; }
#ubbody textarea.default { width: 300px; height: 150px; }


#userform { text-align: left; width: 450px; border: 0 !important; }
#userform table { text-align: left !important; width: 450px; margin-top: 25px; }
#userform th { text-align: center; }
#userform td.paidaccts { width: 200px; }
#userform input.text, #userform textarea.default { width: 180px; }
#userform .label { width: 49%; }
#userform td.ubbutton { text-align: center; vertical-align: middle; }






#payment-page { width: 40%; margin: 20px auto; padding: 2px; background: #efefef; color: #000; }
#payment-page div { margin: 0 auto; padding: 15px; }

#showusers tr.pending  { color: #999; }
#showusers tr.disabled { color: #999; }
.table-footer-info { font-style: italic; margin: 0 auto 20px auto; }

#ub_csv_import_step2 table { margin: 15px auto; text-align: right; }
#ub_csv_import_step2 table td { vertical-align: top; padding: 4px 14px; }
#ub_csv_import_step2 table .submit_button_row { text-align: center; }

#ub_csv_export { width: 400px; margin: 0 auto; }
#ub_csv_export table { width: 100%; margin: 20px auto; text-align: left; border-collapse: collapse; border: 1px solid #777; }
#ub_csv_export table th { padding: 7px; background-color: #ddd; }
#ub_csv_export table td { padding: 7px; background-color: #eee; vertical-align: top; }

.def { border-bottom: 1px dotted; }

.altcolor1 { color: #ffd200; }
.altcolor2 { color: #d0d0d0; }

#formmessage
{
	border: 1px solid #000;
	background: #ffff00;
	width: 300px;
	margin: 10px auto;
	padding: 5px;
	text-align: center;
	font-size: 12pt;
}


#profileimagepage table.profile_image { border-top: 1px solid #ddd; width: 96%; margin: 0 auto 30px auto; border-collapse: collapse; }
#profileimagepage .profile_image tr:hover { background: #fff858; }
#profileimagepage .profile_image td { padding: 20px; border-bottom: 1px solid #ddd; }
#profileimagepage .first_profile_image { }
#profileimagepage .profile_image .filename { font-weight: bold; }
#profileimagepage .profile_image .resizedetails { text-align: left; }
#profileimagepage .profile_image .deletelink { text-align: right; }
#profileimagepage .profile_image .deletelink a { display: block; margin-bottom: 20px; }
#profileimagepage .profile_image .thumbnail img { border: 1px solid #000; }
#profileimagepage .profile_image .noimage { font-style: italic; }

#upload_profile_image_form { border-top: 1px solid #ddd; width: 96%; margin: 0 auto; overflow: auto; }
#upload_profile_image_form div#form_intro { margin: 20px 0 20px 20px; float: left; text-align: left; width: 46%; }
#upload_profile_image_form div#form_controls { margin: 20px 20px 20px 0; float: right; text-align: right; width: 46%; }
#upload_profile_image_form div#form_controls input { }
#upload_profile_image_form:hover { background: #fff858; }

#profilepage .enc_tbl { width: 60%; }
#profilepage .fieldname { width: 50%; font-weight: bold; }
#profilepage .fieldvalue { width: 50%; }
#profilepage td { text-align: left; }
#profilepage .basic_info { }
#profilepage .basic_image { text-align: right; vertical-align: top; }
#profilepage .basic_image img { border: 1px solid #888; }
#profilepage .basic_info { text-align: left; }
#profilepage .basic_info .name { font-weight: bold; font-size: 18pt; }
#profilepage .basic_info .username { }
#profilepage .basic_info .email { }

#memberdirectorypage .enc_tbl { width: 60%; }
#memberdirectorypage td { text-align: left; }
#memberdirectorypage .userimage { text-align: right; }
#memberdirectorypage .userimage img { border: 1px solid #888; }





`;












$PREF{css_light} = qq`

form#ublogin { position: relative; width: 260px; margin: 20px auto 0 auto; padding: 12px; }
form#ublogin table { width: 100%; border: 1px solid #888; border-collapse: collapse; color: #575757; text-align: left; }
form#ublogin .graytitle { display: none; }
form#ublogin th { background: #e0e0e0; color: #333; padding: 8px; font: bold 8pt sans-serif; text-align: center; }
form#ublogin th { font: bold 9pt Verdana,sans-serif; border-bottom: 1px solid #999; }
form#ublogin td { white-space: nowrap; padding: 7px; text-align: left; }
form#ublogin td.label { padding-right: 2px; vertical-align: middle; }
form#ublogin td.ubfield { text-align: right; }
form#ublogin tr { background: #fff; }
form#ublogin tr:hover { background: #efefef; }
form#ublogin td.ubbutton { text-align: center; vertical-align: middle; }
form#ublogin .altcolor1 { color: #333; display: none; }
form#ublogin .altcolor2 { color: #333; }
form#ublogin .shad01 { background: url($PREF{image_path}/shad01c.png); top: 0; left: 0;		left: 22px; right: 22px; height: 12px; }
form#ublogin .shad02 { background: url($PREF{image_path}/shad02c.png); top: 0; right: 0;		top: 22px; bottom: 22px; width:  12px; }
form#ublogin .shad03 { background: url($PREF{image_path}/shad03c.png); bottom: 0; left: 0;	left: 22px; right: 22px; height: 12px; }
form#ublogin .shad04 { background: url($PREF{image_path}/shad04c.png); top: 0; left: 0;		top: 22px; bottom: 22px; width:  12px; }
form#ublogin .shad05 { background: url($PREF{image_path}/shad05c.png); top: 0; left: 0; }
form#ublogin .shad06 { background: url($PREF{image_path}/shad06c.png); top: 0; right: 0; }
form#ublogin .shad07 { background: url($PREF{image_path}/shad07c.png); bottom: 0; right: 0; }
form#ublogin .shad08 { background: url($PREF{image_path}/shad08c.png); bottom: 0; left: 0; }
form#ublogin .shad01, form#ublogin .shad02, form#ublogin .shad03, form#ublogin .shad04 { position: absolute; }
form#ublogin .shad05, form#ublogin .shad06, form#ublogin .shad07, form#ublogin .shad08 { position: absolute; width: 22px; height: 22px; }


#ubbody .listug { border: 1px solid #777; margin: 10px auto; color: #444; text-align: center; }
#ubbody .listug table { border-collapse: collapse; width: 100%; font-size: 8pt; }
#ubbody .listug th { background: #507090; color: #fff; padding: 9px; }
#ubbody .listug td { padding: 7px; }
#ubbody .listug tr.odd { background: #efefef; }
#ubbody .listug tr.even { background: #e9e9e9; }
#ubbody .listug .desc { text-align: left; }
#ubbody .listug tr:hover { background: #d5d9d3; color: #575757; border: 0; }
#ubbody .listug tr:hover td a { color: #575757; text-decoration: underline; }
#ubbody .listug tr:hover td a:hover { color: #000; background: transparent; }
#ubbody .listug tr { border-bottom: 1px solid #fff; }

#ubbody .listug a, #ubbody .listug a:visited { color: #000; border: 0; }
#ubbody .listug .pending a,  #ubbody .listug .pending  a:visited { color: #999; border: 0; }
#ubbody .listug .disabled a, #ubbody .listug .disabled a:visited { color: #999; border: 0; }
#ubbody .listug th a, #ubbody .listug th a:visited { color: #fff; }
#ubbody .listug tr { }
#ubbody .listug-letters { font-size: 120%; font-weight: bold; text-align: center; }
#ubbody .listug-letters a { padding: 4px; color: #507090; border: 0; }
#ubbody .listug-letters a:hover { background: #507090; color: #fff; text-decoration: none; border: 0; }
#ubbody .listug-letters a.current { text-decoration: underline; }


#userform table { border: 1px solid #777; }
#userform table td { border-bottom: 1px solid #ddd; }


.encmenu { border: 1px solid #777; margin: 5px auto 20px auto; max-width: 400px; text-align: center; }
.encmenu a, .encmenu div.text { display: block; padding: 5px; border: 0; color: #000 !important; border-top: 1px solid #fff; }
.encmenu a.odd,  .encmenu div.odd  { background: #efefef; }
.encmenu a.even, .encmenu div.even { background: #e9e9e9; }
.encmenu a:visited { border: 0; border-top: 1px solid #fff; }
.encmenu a.first, .encmenu a.first:visited { border: 0; }
.encmenu a:hover { background: #d5d9d3; text-decoration: none; }
.encmenu .header { background: #507090; color: #fff; font: bold 8pt sans-serif; padding: 12px; }
.encmenu div.text { font-weight: bold; }


`;












$PREF{css_shared_light} = qq`

#enc_server_info table, #enc_prefs_list table { text-align: left !important; }

.enc_tbl
{
	border: 1px solid #777;
	margin: 10px auto;
}
.enc_tbl table
{
	border-collapse: separate;
	border-spacing: 0;
	border: 0;
	background: #fff;
	width: 100%;
	margin: 0;
	font-size: 8pt;
	text-align: center !important;
}
.enc_tbl table th
{
	padding: 9px;
	background: #507090;
	color: #fff;
}
.enc_tbl td.verthead
{
	padding: 9px;
	background: #507090;
	color: #fff;
	width: 50%;
	font-weight: bold !important;
}
.enc_tbl table th a, .enc_tbl td.verthead a, .enc_tbl td.verthead a:visited
{
	color: #fff !important;
	text-decoration: none;
}
.enc_tbl table td a, .enc_tbl table td a:visited
{
	color: #000 !important;
	border: 0;
}
.enc_tbl table td
{
	padding: 7px;
	border-bottom: 1px solid #fff;
}
.enc_tbl table td.verthead, .enc_tbl table td.vertcell
{
	border-bottom: 1px solid #999;
}
.enc_tbl table tr
{
	border-bottom: 1px solid #fff;
	background: #efefef;
}
.enc_tbl table tr.odd
{
	padding: 4px;
	background: #f4f6f8;
	background: #f1f1f1;
	background: #efefef;
}
.enc_tbl table tr.even
{
	padding: 4px;
	background: #ffffff;
	background: #fafafa;
	background: #e9e9e9;
}
.enc_tbl table tr:hover
{
	background: #fcffb8;
	background: #d5d9d3;
}
.enc_tbl table tr:hover td.verthead
{
	background: #415b75;
}


.enc_tbl input.text
{
	width: 200px !important;
	border: 1px solid #555;
	padding: 3px;
}
.enc_tbl input.srch_text
{
	border: 1px solid #555;
	padding: 3px;
}
.enc_tbl textarea
{
	border: 1px solid #555;
	padding: 3px;
}
.enc_tbl textarea.shorttext
{
	width: 300px;
	height: 50px;
}
.enc_tbl textarea.mediumtext
{
	width: 300px;
	height: 80px;
}
.enc_tbl textarea.longtext
{
	width: 300px;
	height: 200px;
}
.enc_tbl .readonly
{
	margin-left: 5px;
}
#database_deleter
{
	margin: 30px 0;
	padding: 0;
}
.database_header_note
{
	max-width: 500px;
	margin: 20px auto;
}
.enc_create_tbl table
{
	/* width: auto; */
}
.enc_create_tbl th, .enc_create_tbl td,
.enc_edit_tbl th, .enc_edit_tbl td
{
	text-align: left;
}
.enc_create_tbl td.button, .enc_edit_tbl td.button
{
	text-align: center;
}


.pagelinks
{
	/* font-size: 10pt; */
	cursor: default;
}
.pagelinks .links
{
	display: inline-block;
	margin-top: 10px;
	background: #efefef;

	/*
	border: 1px solid #888;
	border-top-color: #ccc;
	border-left-color: #ccc;
	*/

	padding: 5px;
}
.pagelinks .links span, .pagelinks .links a
{
	display: block;
	float: left;
	padding: 6px 11px;
	border-right: 1px solid #ccc;
}
.pagelinks .links span.last, .pagelinks .links a.last
{
	border-right: 0;
}
.pagelinks .disabled
{
	cursor: default;
	color: #999;
}
.pagelinks .current
{
	cursor: default;
	color: #999;
}
#ubbody .pagelinks .links a
{
	color: #1E90FF;
	color: #333;
	text-decoration: none;
}
#ubbody .pagelinks .links a:hover
{
	background: #d5d9d3;
	text-decoration: none;
}
.pagelinks .text
{
	line-height: 16pt;
	vertical-align: middle;
}
.pagelinks .bookend
{
	font-size: 16pt;
	font-family: serif;
	color: #676767;
	margin: 0 5px;
	vertical-align: top;
}
.pagelinks .disabled
{
	/* text-decoration: line-through !important; */
}



`;












$PREF{css_dark} = qq`

#ubbody { background-color: black; color: white; }
#ubbody a { color: #a6a6a6; }
#ubbody .pagesubtitle { color: #aaa; }
#ubbody input.default { border: 1px solid #666; background: #000; color: #bbb; }
#ubbody table td { color: #8f8f8f; }


form#ublogin { position: relative; width: 260px; margin: 20px auto 0 auto; padding: 12px; }
form#ublogin table { width: 100%; border: 1px solid #666; border-collapse: collapse; text-align: left; }
form#ublogin .graytitle { display: none; }
form#ublogin th { background: #555; color: #fff; padding: 8px; font: bold 8pt sans-serif; text-align: center; }
form#ublogin th { font: bold 9pt Verdana,sans-serif; border-bottom: 1px solid #555; }
form#ublogin table td { white-space: nowrap; padding: 7px; text-align: left; color: #fff; }
form#ublogin td.label { padding-right: 2px; vertical-align: middle; }
form#ublogin td.ubfield { text-align: right; }
form#ublogin tr { background: #333; }
form#ublogin tr:hover { background: #444; }
form#ublogin td.ubbutton { text-align: center; vertical-align: middle; }
form#ublogin .altcolor1 { color: #333; display: none; }
form#ublogin .altcolor2 { color: #ccc; }
form#ublogin .shad01 { background: url($PREF{image_path}/shad01c.png); top: 0; left: 0;		left: 22px; right: 22px; height: 12px; }
form#ublogin .shad02 { background: url($PREF{image_path}/shad02c.png); top: 0; right: 0;		top: 22px; bottom: 22px; width:  12px; }
form#ublogin .shad03 { background: url($PREF{image_path}/shad03c.png); bottom: 0; left: 0;	left: 22px; right: 22px; height: 12px; }
form#ublogin .shad04 { background: url($PREF{image_path}/shad04c.png); top: 0; left: 0;		top: 22px; bottom: 22px; width:  12px; }
form#ublogin .shad05 { background: url($PREF{image_path}/shad05c.png); top: 0; left: 0; }
form#ublogin .shad06 { background: url($PREF{image_path}/shad06c.png); top: 0; right: 0; }
form#ublogin .shad07 { background: url($PREF{image_path}/shad07c.png); bottom: 0; right: 0; }
form#ublogin .shad08 { background: url($PREF{image_path}/shad08c.png); bottom: 0; left: 0; }
form#ublogin .shad01, form#ublogin .shad02, form#ublogin .shad03, form#ublogin .shad04 { position: absolute; }
form#ublogin .shad05, form#ublogin .shad06, form#ublogin .shad07, form#ublogin .shad08 { position: absolute; width: 22px; height: 22px; }


#ubbody .listug { border: 1px solid #666; margin: 10px auto; text-align: center; }
#ubbody .listug table { border-collapse: collapse; width: 100%; font-size: 8pt; }
#ubbody .listug th { background: #555; color: #fff; padding: 9px; }
#ubbody .listug table td { padding: 7px; color: #8f8f8f; }
#ubbody .listug tr.odd { background: #333; }
#ubbody .listug tr.even { background: #333; }
#ubbody .listug .desc { text-align: left; }
#ubbody .listug tr:hover { background: #444; color: #575757; border: 0; }
#ubbody .listug tr:hover td a:hover { color: #aaa; background: transparent; }
#ubbody .listug tr { border-bottom: 1px solid #222; }

#ubbody .listug a, #ubbody .listug a:visited { color: #eee; border: 0; }
#ubbody .listug table .pending td,  #ubbody .listug .pending a,  #ubbody .listug .pending  a:visited { color: #e66; }
#ubbody .listug table .disabled td, #ubbody .listug .disabled a, #ubbody .listug .disabled a:visited { color: #e66; }
#ubbody .listug th a, #ubbody .listug th a:visited { color: #fff; }
#ubbody .listug tr { }
#ubbody .listug-letters { font-size: 120%; font-weight: bold; text-align: center; }
#ubbody .listug-letters a { padding: 4px; color: #fff; border: 0; }
#ubbody .listug-letters a:hover { background: #fff; color: #000; text-decoration: none; border: 0; }
#ubbody .listug-letters a.current { text-decoration: underline; }


#userform table { border: 1px solid #666; }


.encmenu { border: 1px solid #666; margin: 5px auto 20px auto; max-width: 400px; text-align: center; }
.encmenu a, .encmenu div.text { display: block; padding: 5px; border: 0; color: #aaa !important; border-top: 1px solid #222; }
.encmenu a.odd,  .encmenu div.odd  { background: #333; }
.encmenu a.even, .encmenu div.even { background: #333; }
.encmenu a:visited { border: 0; border-top: 1px solid #222; }
.encmenu a.first, .encmenu a.first:visited { border: 0; }
.encmenu a:hover { background: #444; text-decoration: none; }
.encmenu .header { background: #555; color: #fff; font: bold 8pt sans-serif; padding: 12px; }
.encmenu div.text { font-weight: bold; }

`;












$PREF{css_shared_dark} = qq`

#enc_server_info table, #enc_prefs_list table { text-align: left !important; }

.enc_tbl
{
	border: 1px solid #666;
	margin: 10px auto;
}
.enc_tbl table
{
	border-collapse: separate;
	border-spacing: 0;
	border: 0;
	background: #333;
	width: 100%;
	margin: 0;
	font-size: 8pt;
	text-align: center !important;
}
.enc_tbl table th
{
	padding: 9px;
	background: #555;
	color: #fff;
}
.enc_tbl td.verthead
{
	padding: 9px;
	background: #555;
	color: #fff;
	width: 50%;
	font-weight: bold !important;
}
.enc_tbl table th a, .enc_tbl td.verthead a, .enc_tbl td.verthead a:visited
{
	color: #fff !important;
	text-decoration: none;
}
.enc_tbl table td a, .enc_tbl table td a:visited
{
	color: #fff !important;
	border: 0;
}
.enc_tbl table td
{
	padding: 7px;
	border-bottom: 1px solid #222;
}
.enc_tbl table td.verthead, .enc_tbl table td.vertcell
{
	border-bottom: 1px solid #999;
}
.enc_tbl table tr
{
	border-bottom: 1px solid #222;
	background: #333;
}
.enc_tbl table tr.odd
{
	padding: 4px;
	background: #333;
}
.enc_tbl table tr.even
{
	padding: 4px;
	background: #333;
}
.enc_tbl table tr:hover
{
	background: #444;
}
.enc_tbl table tr:hover td.verthead
{
	background: #444;
}


.enc_tbl input.text
{
	width: 200px !important;
}
.enc_tbl input.text, .enc_tbl textarea, .enc_tbl input.srch_text
{
	border: 1px solid #666;
	background: #000;
	color: #bbb;
	padding: 3px;
}
.enc_tbl textarea.shorttext
{
	width: 300px;
	height: 50px;
}
.enc_tbl textarea.mediumtext
{
	width: 300px;
	height: 80px;
}
.enc_tbl textarea.longtext
{
	width: 300px;
	height: 200px;
}
.enc_tbl .readonly
{
	margin-left: 5px;
}
#database_deleter
{
	margin: 30px 0;
	padding: 0;
}
.database_header_note
{
	max-width: 500px;
	margin: 20px auto;
}
.enc_create_tbl table
{
	/* width: auto; */
}
.enc_create_tbl th, .enc_create_tbl td,
.enc_edit_tbl th, .enc_edit_tbl td
{
	text-align: left;
}
.enc_create_tbl td.button, .enc_edit_tbl td.button
{
	text-align: center;
}


.pagelinks
{
	/* font-size: 10pt; */
	cursor: default;
}
.pagelinks .links
{
	display: inline-block;
	margin-top: 10px;
	background: #efefef;

	/*
	border: 1px solid #888;
	border-top-color: #ccc;
	border-left-color: #ccc;
	*/

	padding: 5px;
}
.pagelinks .links span, .pagelinks .links a
{
	display: block;
	float: left;
	padding: 6px 11px;
	border-right: 1px solid #ccc;
}
.pagelinks .links span.last, .pagelinks .links a.last
{
	border-right: 0;
}
.pagelinks .disabled
{
	cursor: default;
	color: #999;
}
.pagelinks .current
{
	cursor: default;
	color: #999;
}
.pagelinks .links a
{
	color: #1E90FF;
	color: #333;
	text-decoration: none;
}
.pagelinks .links a:hover
{
	background: #d5d9d3;
	text-decoration: none;
}
.pagelinks .text
{
	line-height: 16pt;
	vertical-align: middle;
}
.pagelinks .bookend
{
	font-size: 16pt;
	font-family: serif;
	color: #676767;
	margin: 0 5px;
	vertical-align: top;
}
.pagelinks .disabled
{
	/* text-decoration: line-through !important; */
}



`;












$PREF{css_extra} = qq`

</style>

<!--[if IE]>
<style type="text/css">
</style>
<![endif]-->

<!--[if lt IE 7]>
<style type="text/css">
/* for the drop-shadow style login form: */
form#ublogin .shad01, form#ublogin .shad02, form#ublogin .shad03, form#ublogin .shad04,
form#ublogin .shad05, form#ublogin .shad06, form#ublogin .shad07, form#ublogin .shad08 { display: none; }
</style>
<![endif]-->

<style type="text/css">

`;








############################################################################
# Here you can modify UserBase's login form template.
#
$PREF{hide_app_pagetitle_on_login_page}	= 'yes';
$PREF{hide_app_subtitle_on_login_page}	= 'yes';
$PREF{login_form_template}		= qq`
%%special_message%%
<form method="post" action="$ENV{SCRIPT_NAME}?action=validate%%whence%%" id="ublogin">
<div class="shad01"></div><div class="shad02"></div><div class="shad03"></div><div class="shad04"></div>
<div class="shad05"></div><div class="shad06"></div><div class="shad07"></div><div class="shad08"></div>
<table cellspacing='0' cellpadding='0' border='0'>
	<tr class="odd">
	<td class="label">%PREF{username_label}:</td>
	<td class="ubfield"><input type="text" class="default text" name="%PREF{userbase_user_fieldname}" id="ubun" /></td>
	</tr>

	<tr class="even">
	<td class="label">Password:</td>
	<td class="ubfield"><input type="password" class="default text" name="%PREF{userbase_pass_fieldname}" /></td>
	</tr>

	<tr class="odd">
	<td class="ubbutton">
	<input type="hidden" name="ref" value="$ENV{HTTP_REFERER}" />
	<input type="hidden" name="loginreturn" value="%%loginreturn%%" />
	<input type="submit" value="Log in" class="defaultbutton" /></td>


	%%%if-rememberme%%%

	<td style="text-align: center;"><input type="checkbox" name="remember_me" id="ub_remember_me" checked="checked" />
	<label style="font-size: 10pt; color: #666666;" id="ub_rememberme_label" for="ub_remember_me">Remember me</label>
	</td>
	%%%end-rememberme%%%
	</tr>

</table>
</form>
`;



$PREF{login_form_template_orig}		= qq`
%%special_message%%
<form method="post" action="$ENV{SCRIPT_NAME}?action=validate%%whence%%" id="ublogin">
<div class="shad01"></div><div class="shad02"></div><div class="shad03"></div><div class="shad04"></div>
<div class="shad05"></div><div class="shad06"></div><div class="shad07"></div><div class="shad08"></div>
<table>
	<tr class="header"><th colspan="2">
	<div class="origtitle"><span class="altcolor1">&gt;</span> UserBase: <span class="altcolor2">Login</span></div>
	<div class="graytitle"><div class="formtitle">UserBase</div><div class="formsubtitle">Login</div></div>
	</th></tr>

	<tr class="odd">
	<td class="label">%PREF{username_label}:</td>
	<td class="ubfield"><input type="text" class="default text" name="%PREF{userbase_user_fieldname}" id="ubun" /></td>
	</tr>

	<tr class="even">
	<td class="label">Password:</td>
	<td class="ubfield"><input type="password" class="default text" name="%PREF{userbase_pass_fieldname}" /></td>
	</tr>

	%%%if-rememberme%%%
	<tr class="odd">
	<td colspan="2" style="text-align: center;"><input type="checkbox" name="remember_me" id="ub_remember_me" checked="checked" />
	<label for="ub_remember_me">Remember me for %PREF{num_days_rememberme_cookie_lasts} days</label>
	</td>
	</tr>
	%%%end-rememberme%%%

	%%%if-restrictip%%%
	<tr class="even">
	<td colspan="2" style="text-align: center;"><input type="checkbox" name="restrict_ip" id="ub_restrict_ip" checked="checked" />
	<label for="ub_restrict_ip">Use extra security (<a href="#" onclick="alert('Restricts your session to your IP address.'); return false">explain</a>)</label>
	</td>
	</tr>
	%%%end-restrictip%%%

	<tr class="odd">
	<td colspan="2" class="ubbutton">
	<input type="hidden" name="ref" value="$ENV{HTTP_REFERER}" />
	<input type="hidden" name="loginreturn" value="%%loginreturn%%" />
	<input type="submit" value="Log in" class="defaultbutton" /></td>
	</tr>
</table>
</form>
`;








############################################################################
# Here you can modify UserBase's login/logout link template; this is the
# link that is displayed when ?format=justlink is passed on the URL.  You
# can also adjust the login status template; this is what's displayed when
# you pass ?format=loginstatus on the URL.  Note that these are unused by
# UserBase in its normal operation, and in most installations they're not
# necessary, because UserBase handles all of this automatically within its
# own pages.  These are only needed if you want to display these links and
# status messages within your own pages outside of UserBase.
#
$PREF{login_logout_link_template___login}		=  qq`<a href="%PREF{login_url}">Login</a>`;
$PREF{login_logout_link_template___logout}		=  qq`<a href="%ENV{SCRIPT_NAME}?logout">Logout</a>`;
$PREF{login_status_template___loggedin}			=  qq`You are logged in as %PREF{logged_in_username}.`;
$PREF{login_status_template___loggedout}		=  qq`You are logged out.`;








############################################################################
# Here you can modify UserBase's mini login form template; this version
# of the login form is displayed when ?format=mini is passed on the URL.
# You can also specify the "mainmenu" text, which appears in place of the
# mini login form when the user is already logged in.
#
# ahc modified.
$PREF{login_form_template__mini} =  qq`
<form method="post" action="$ENV{SCRIPT_NAME}?format=mini&amp;action=validate%%whence%%" id="ubloginmini">
<table cellspacing='0' cellpadding='0' border='0'>
<tr>
<td class="label bg_grey">%PREF{username_label}:</td>
<td class="ubfield"><input type="text" class="default text" name="%PREF{userbase_user_fieldname}" id="ubun" /></td>
</tr>
<tr>
<td class="label bg_grey">Password:</td>
<td class="ubfield"><input type="password" class="default text" name="%PREF{userbase_pass_fieldname}" /></td>
</tr>
</table>

<input type="hidden" name="ref" value="$ENV{HTTP_REFERER}" />
<input type="submit" value="Log in" class="defaultbutton" />
&nbsp;&nbsp;
<input id="ub_remember_me" type="checkbox" name="remember_me" />Remember me

<div id="ublinkbar_bottom">
<a href="%PREF{login_url}?action=signup">Create Account</a> &#8211; <a href="%PREF{login_url}?action=pwreset1">Reset Password</a>
</div>

</form>
`;


$PREF{login_form_template__mini_orig} =  qq`
<form method="post" action="$ENV{SCRIPT_NAME}?format=mini&amp;action=validate%%whence%%" id="ubloginmini">
<span style="font-family: monospace;">%PREF{username_label}:</span>
<input type="text" class="default text" name="%PREF{userbase_user_fieldname}" id="ubun" />

<br /><span style="font-family: monospace;">Password:</span>
<input type="password" class="default text" name="%PREF{userbase_pass_fieldname}" />

%%%if-rememberme%%%
<br /><input type="checkbox" name="remember_me" />Remember me for %PREF{num_days_rememberme_cookie_lasts} days
%%%end-rememberme%%%

%%%if-restrictip%%%
<br /><input type="checkbox" name="restrict_ip" />Use extra security (<span class="def" title="restricts your session to your IP address">explain</span>)
%%%end-restrictip%%%

<input type="hidden" name="ref" value="$ENV{HTTP_REFERER}" />

<br /><input type="submit" value="Log in" class="defaultbutton" />

</form>
`;



$PREF{mainmenu_template__mini} = qq`
<div>User %%username%% logged in<br />
<a href="$PREF{ahc_user_home}">My Programs</a> &#8211; 
<a href="$PREF{login_url}?action=edituser">Edit Account</a> &#8211; 
<a href="$ENV{SCRIPT_NAME}?logout">Logout</a>
</div>
`;

$PREF{mainmenu_template__mini_orig} = qq`
<div>User %%username%% logged in &#8211; 
<a href="$PREF{login_url}">Options</a> &#8211; 
<a href="$ENV{SCRIPT_NAME}?logout">Logout</a></div>
`;






############################################################################
# Here you can modify UserBase's signup/adduser/edituser form template.
# This single form functions as the signup form, the edit-account form,
# and the administrator's add-new-user form, so keep that in mind when
# editing the template.  You can move sections around and edit the
# sections, but in most cases it's best to avoid deleting entire sections.
#
# ahc: The original if-forcepwchng
#     <p style="text-align: center;">You must change your password now.</p>

$PREF{user_form_title___user_signing_up}	= qq`Create New Account`;
$PREF{user_form_title___admin_adding_user}	= qq`Add New User`;
$PREF{user_form_title___editing_account}	= qq`View or Edit Account Information`;
$PREF{user_form_template}			=  qq`

	%%%if-forcepwchng%%%
	<p>We've recently changed the login system, which now requires a password.<br>Please enter a new password below.</p>
	%%%end-forcepwchng%%%

	<!-- don't change anything about the form tag except possibly the class. -->
	<form method="post" action="%%post_url%%" class="enc_tbl" id="userform" name="userform" onsubmit="return startupload()">
	%%hidden_signup_input%%
	%%user_form_field_sections%%
	</form>

`;


$TEXT{user_form_section_header___signup}	= qq`Create New Account`;
$TEXT{user_form_section_header___adminadd}	= qq`Add New User`;
$TEXT{user_form_section_header___edit}		= qq`Account Information`;
$PREF{user_form_section_header_template}	= qq`
	<span class="altcolor2">%%user_form_section_header_text%%</span>
`;
$PREF{user_form_section_header_template_orig}	= qq`
	<span class="altcolor1">&gt;</span> UserBase: 
	<span class="altcolor2">%%user_form_section_header_text%%</span>
`;


$PREF{user_form_fields_template}		= qq`

<table id="%%section_css_id%%">

	<tr class="header"><th colspan="2">%%user_form_section_header%%</th></tr>


	%%%if-show_builtin_fields%%%


		<tr>
		<td class="label">%PREF{username_label}:</td>
		<td class="ubfield"><input type="text" name="username" class="default text required %%emailformat%%" maxlength="%PREF{max_username_length}" value="%%username%%" %%username_readonly%% /></td>
		</tr>


		%%%if-use_builtin_realname_field%%%
			<tr>
			<td class="label">%PREF{name_label}:</td>
			<td class="ubfield"><input type="text" name="realname" class="default text required" maxlength="%PREF{max_realname_length}" value="%%realname%%" /></td>
			</tr>
		%%%end-use_builtin_realname_field%%%


		%%%if-use_builtin_email_field%%%
			<tr>
			<td class="label">$PREF{email_label}:</td>
			<td class="ubfield"><input type="text" name="email" class="default text %%email_field_required%%" maxlength="%PREF{max_emailaddr_length}" value="%%email%%" /></td>
			</tr>
		%%%end-use_builtin_email_field%%%


		%%%if-show_password_fields%%%

			%%%if-currentpass_needed%%%
				<tr>
				<td class="label">Current Password<br />(only if changing):</td>
				<td class="ubfield"><input type="password" name="oldpw" class="default text" maxlength="%PREF{max_password_length}" /></td>
				</tr>
			%%%end-currentpass_needed%%%


			<tr>
			<td class="label">
			%%%ifelse-editing_account%%% New Password: %%%else%%% Password: %%%endelse-editing_account%%%
			</td>
			<td class="ubfield"><input type="password" name="pw1" id="ubpw1" class="default text %%new_password_required%%" maxlength="%PREF{max_password_length}" /></td>
			</tr>


			<tr>
			<td class="label">
			%%%ifelse-editing_account%%% New Password, Again: %%%else%%% Password, Again: %%%endelse-editing_account%%%
			</td>
			<td class="ubfield"><input type="password" name="pw2" id="ubpw2" class="default text %%new_password_required%%" maxlength="%PREF{max_password_length}" /></td>

		%%%end-show_password_fields%%%


		%%%if-show_account_locks%%%
			<tr>
			<td class="label">
				Account Locked <span style="font-weight: normal;">(this is the <br />"too many failed logins" lock;

				%%%ifelse-lock_expires_automatically%%%
					it <br />auto-unlocks after %PREF{failed_logins_within_N_secs_count_towards_lock} seconds)</span>:
				%%%else%%%
					it <br />requires manual unlocking by an <br />admin here)</span>:
				%%%endelse-lock_expires_automatically%%%
			</td>
			<td class="ubfield"><input type="checkbox" name="account_locked" %%account_locked_checked%% /></td>
			</tr>

			<tr>
			<td class="label">Account Disabled <span style="font-weight: normal;">(this can only <br />be changed here, by an admin)</span>:</td>
			<td class="ubfield"><input type="checkbox" name="account_disabled" %%account_disabled_checked%% /></td>
			</tr>
		%%%end-show_account_locks%%%


		%%%if-show_force_pwchng%%%
			<tr>
			<td class="label">Force Password Change:</td>
			<td class="ubfield"><input type="checkbox" name="forcepwchng" %%forcepwchng_checked%% /></td>
			</tr>
		%%%end-show_force_pwchng%%%


		%%%if-show_terms_of_service%%%
		<tr>
		<td class="label">
			<p>Terms of Use:</p>
			<p>By signing up for an account, you agree not to do anything bad to our site, blah blah blah...</p>
		</td>
		<td class="ubfield"><input type="checkbox" name="agreetoterms" id="agreetoterms" /></td>
		</tr>
		%%%end-show_terms_of_service%%%


		%%%if-show_grouplist%%%
		<tr>
		<td class="label" style="vertical-align: top;">Group Memberships:</td>
		<td class="ubfield groups">
			%%%template:grouplist%%%
			<input type="checkbox" name="group-%%group%%" id="group-%%group%%" %%checked%% %%disabled%% />
			<label for="group-%%group%%">%%group_label%%</label>
			<br /><br />
			%%%end-template:grouplist%%%
		</td>
		</tr>
		%%%end-show_grouplist%%%


		%%%if-show_payment_options%%%
		<tr>
		<td class="label">Premium Accounts:</td>
		<td class="ubfield paidaccts">
			<input type="radio" name="paidacct" id="paidacct00" value="00" checked="checked" /><label for="paidacct00">No thanks.</label>
			<br /><br />
			<input type="radio" name="paidacct" id="paidacct01" value="01" /><label for="paidacct01">%%paidacct01name%%: %%paidacct01desc%% (\$%%paidacct01cost%%)</label>
			<br /><br />
			<input type="radio" name="paidacct" id="paidacct02" value="02" /><label for="paidacct02">%%paidacct02name%%: %%paidacct02desc%% (\$%%paidacct02cost%%)</label>
			<br /><br />
			<input type="radio" name="paidacct" id="paidacct03" value="03" /><label for="paidacct03">%%paidacct03name%%: %%paidacct03desc%% (\$%%paidacct03cost%%)</label>
			<br /><br />
		</td>
		</tr>
		%%%end-show_payment_options%%%



	%%%end-show_builtin_fields%%%



	%%%if-show_customfields%%%
	%%%template:customfields%%%
	<tr>
	<td class="label" id="ub_%%fieldname%%_label">
		%%fieldlabel%%
	</td>
	<td class="ubfield" id="ub_%%fieldname%%_field">

		%%%ifelse-readonly%%%

			%%value%%
			<!-- Also include a hidden field containing the value, so any Field Actions (showing/hiding  -->
			<!-- fields based on the user's field entries, etc) depending on this field will still work. -->
			<input type="hidden" name="%%fieldname%%" id="%%css_id%%" value="%%value%%" />

		%%%else%%%

			%%%if-freeformsingle%%%
				<input type="text" name="%%fieldname%%" id="%%css_id%%" maxlength="%%fieldmax%%" class="default text %%required%%" value="%%value%%" />
			%%%end-freeformsingle%%%

			%%%if-freeformmulti%%%
				<textarea name="%%fieldname%%" id="%%css_id%%" class="default text %%required%%">%%value%%</textarea>
			%%%end-freeformmulti%%%

			%%%if-dropdown%%%
				<select name="%%fieldname%%" id="%%css_id%%" class="default text %%required%%">
					%%%if-mandatory%%%
						<option value=""></option>
					%%%end-mandatory%%%
					%%%template:dropdown%%%
						<option value="%%submitted_value%%" %%dropdown_selected%%>%%displayed_value%%</option>
					%%%end-template:dropdown%%%
				</select>
			%%%end-dropdown%%%

			%%%if-checkbox%%%
				<input type="checkbox" name="%%fieldname%%" id="%%css_id%%" class="checkbox" %%checkbox_checked%% />
			%%%end-checkbox%%%

			%%%if-radio%%%
				%%%template:radio%%%
					<input type="radio" name="%%fieldname%%" id="%%css_id%%" class="%%required%%" value="%%submitted_value%%" %%radio_checked%% />
					<label for="%%css_id%%">%%displayed_value%%</label>
					<br />
				%%%end-template:radio%%%
			%%%end-radio%%%

		%%%endelse-readonly%%%

	</td>
	</tr>
	%%%end-template:customfields%%%
	%%%end-show_customfields%%%



	%%%if-show_submit_button%%%
	<tr>
		<td colspan="2" class="ubbutton">
		<input type="hidden" name="userid" value="%%user_id%%" />
		<input type="hidden" name="loginreturn" value="%%loginreturn%%" />
		<input type="button" value="%%%if-user_signing_up%%%Sign Up%%%end-user_signing_up%%%%%%if-admin_adding_user%%%Add User%%%end-admin_adding_user%%%%%%if-editing_account%%%Update Information%%%end-editing_account%%%" class="defaultbutton" onclick="submit_user_form()" />
		</td>
	</tr>
	%%%end-show_submit_button%%%



</table>

`;









############################################################################
# This template is for the PayPal BuyNow button, used for letting your users
# sign up for paid accounts.
#
$PREF{paid_account_payment_page_title} = qq`Checkout`;
$PREF{paid_account_payment_page_template} = qq`
<fieldset id="payment-page">
<legend>Item:</legend>
<div><b>%%item_name%%</b>: \$%%item_cost%%</div>
<form name="_xclick" action="https://www.paypal.com/us/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_xclick">
<input type="hidden" name="notify_url" value="%PREF{protoprefix}$ENV{HTTP_HOST}$ENV{SCRIPT_NAME}">
<input type="hidden" name="business" value="%PREF{email_address_for_paypal_payments}">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="no_shipping" value="1">
<input type="hidden" name="return" value="%PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}?action=confirmpayment">
<input type="hidden" name="cancel_return" value="%PREF{protoprefix}$ENV{HTTP_HOST}%PREF{login_url}">
<input type="hidden" name="on0" value="UserID">
<input type="hidden" name="os0" value="%%userid%%">
<input type="hidden" name="item_name" value="%%item_name%%">
<input type="hidden" name="item_number" value="%%item_number%%">
<input type="hidden" name="amount" value="%%item_cost%%">
<input type="image" src="http://www.paypal.com/en_US/i/btn/btn_buynow_SM.gif" border="0" name="submit" alt="Make payments with PayPal - it's fast, free and secure!">
</form>
<div>All major credit cards accepted. <br />PayPal account <b>not</b> required.</div>
</fieldset>
<img src="$PREF{image_path}/paypal_horizontal_solution_PP.gif" alt="Credit Card Payments Via PayPal" />
`;


$PREF{confirm_payment_page_title} = qq`Thank You`;
$PREF{confirm_payment_page_template} = qq`
<p>
Thanks for your payment.&nbsp; You will receive a notification email
shortly.&nbsp; You may <a href="%PREF{login_url}">click here</a> to login.
</p>
`;









############################################################################
# Template for the individual user profile pages.
#
$PREF{show_builtin_fields_with_custom_fields_in_profile}= 'no';
$PREF{section_label_for_sections_without_labels}	= 'Additional Details';
$PREF{user_profile_page_title}				= qq`%%username%%'s Profile`;
$PREF{user_profile_page_template}			= qq`

<div class="enc_tbl">
<table class="basic_info">
<tr><th colspan="2">Basic Information</th></tr>
<tr><td class="name">%%name%%</td><td class="basic_image">%%smallest_profile_image_html%%</td></tr>
<tr><td colspan="2" class="username">"%%username%%"</td></tr>
<tr><td colspan="2" class="email">%%email%%</td></tr>
</tr>
</table>
</div>

%%default_fields_block%%

`;


$PREF{user_profile_page_default_fields_block_template} = qq`

<div class="enc_tbl">
<table>
<tr><th colspan="2">%%section_label%%</th></tr>
%%%template:field%%%
	<tr>
	<td class="fieldname">%%fieldlabel%%</td>
	<td class="fieldvalue">%%fieldvalue%%</td>
	</tr>
%%%end-template:field%%%
</table>
</div>

`;










############################################################################
# Template for the member directory.
#
$PREF{show_builtin_fields_with_custom_fields_in_directory}= 'no';
$PREF{member_directory_page_title}			= qq`Member Directory`;
$PREF{num_members_per_page_on_member_directory}		= 5;
#
# Add %%default_fields_block%% somewhere within this page template if you
# want the member directory page to show custom form field values.
#
$PREF{member_directory_page_template}			= qq`

%%member_directory_list%%

`;


$PREF{member_directory_list_template}			= qq`

<div class="enc_tbl">
<table class="basic_info">
<tr><th colspan="2">%%username%%</th></tr>
<tr><td class="name">%%name%%<br /><a href="mailto:%%email%%">%%email%%</a><br /><br /><a href="%%profile_link%%">View Profile</a></td><td class="userimage">%%smallest_profile_image_html%%</td></tr>
</tr>
</table>
</div>

`;


$PREF{member_directory_page_default_fields_block_template} = qq`

<div class="enc_tbl">
<table>
<tr><th colspan="2">%%section_label%%</th></tr>
%%%template:field%%%
	<tr>
	<td class="fieldname">%%fieldlabel%%</td>
	<td class="fieldvalue">%%fieldvalue%%</td>
	</tr>
%%%end-template:field%%%
</table>
</div>

`;



